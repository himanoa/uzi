<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Effectful.Dispatch.Static</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">effectful-core-2.3.0.1: An easy to use, performant extensible effects library.</span><ul class="links" id="page-menu"><li><a href="src/Effectful.Dispatch.Static.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Effectful.Dispatch.Static</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Introduction</a><ul><li><a href="#g:2">An example</a></li></ul></li><li><a href="#g:3">Low level API</a><ul><li><a href="#g:4">Extending the environment</a></li><li><a href="#g:5">Data retrieval and update</a></li><li><a href="#g:6">Unlifts</a></li><li><a href="#g:7">Utils</a></li></ul></li><li><a href="#g:8">Re-exports</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Statically dispatched effects.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data family</span> <a href="#t:StaticRep">StaticRep</a> (e :: <a href="Effectful.html#t:Effect" title="Effectful">Effect</a>) :: <a href="Effectful-Internal-Effect.html#t:Type" title="Effectful.Internal.Effect">Type</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:SideEffects">SideEffects</a><ul class="subs"><li>= <a href="#v:NoSideEffects">NoSideEffects</a></li><li>| <a href="#v:WithSideEffects">WithSideEffects</a></li></ul></li><li class="src short"><span class="keyword">type family</span> <a href="#t:MaybeIOE">MaybeIOE</a> (sideEffects :: <a href="Effectful-Dispatch-Static.html#t:SideEffects" title="Effectful.Dispatch.Static">SideEffects</a>) (es :: [<a href="Effectful.html#t:Effect" title="Effectful">Effect</a>]) :: <a href="../base-4.18.2.0/Data-Kind.html#t:Constraint" title="Data.Kind">Constraint</a> <span class="keyword">where ...</span></li><li class="src short"><a href="#v:runStaticRep">runStaticRep</a> :: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, <a href="Effectful-Dispatch-Static.html#t:MaybeIOE" title="Effectful.Dispatch.Static">MaybeIOE</a> sideEffects es) =&gt; <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> (e : es) a -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es (a, <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e)</li><li class="src short"><a href="#v:evalStaticRep">evalStaticRep</a> :: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, <a href="Effectful-Dispatch-Static.html#t:MaybeIOE" title="Effectful.Dispatch.Static">MaybeIOE</a> sideEffects es) =&gt; <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> (e : es) a -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</li><li class="src short"><a href="#v:execStaticRep">execStaticRep</a> :: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, <a href="Effectful-Dispatch-Static.html#t:MaybeIOE" title="Effectful.Dispatch.Static">MaybeIOE</a> sideEffects es) =&gt; <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> (e : es) a -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es (<a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e)</li><li class="src short"><a href="#v:getStaticRep">getStaticRep</a> :: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, e <a href="Effectful.html#t::-62-" title="Effectful">:&gt;</a> es) =&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es (<a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e)</li><li class="src short"><a href="#v:putStaticRep">putStaticRep</a> :: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, e <a href="Effectful.html#t::-62-" title="Effectful">:&gt;</a> es) =&gt; <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es ()</li><li class="src short"><a href="#v:stateStaticRep">stateStaticRep</a> :: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, e <a href="Effectful.html#t::-62-" title="Effectful">:&gt;</a> es) =&gt; (<a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e -&gt; (a, <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e)) -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</li><li class="src short"><a href="#v:stateStaticRepM">stateStaticRepM</a> :: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, e <a href="Effectful.html#t::-62-" title="Effectful">:&gt;</a> es) =&gt; (<a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es (a, <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e)) -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</li><li class="src short"><a href="#v:localStaticRep">localStaticRep</a> :: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, e <a href="Effectful.html#t::-62-" title="Effectful">:&gt;</a> es) =&gt; (<a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e -&gt; <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e) -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</li><li class="src short"><a href="#v:seqUnliftIO">seqUnliftIO</a> :: <a href="Effectful-Dispatch-Static.html#t:HasCallStack" title="Effectful.Dispatch.Static">HasCallStack</a> =&gt; <a href="Effectful-Dispatch-Static-Primitive.html#t:Env" title="Effectful.Dispatch.Static.Primitive">Env</a> es -&gt; ((<span class="keyword">forall</span> r. <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es r -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a</li><li class="src short"><a href="#v:concUnliftIO">concUnliftIO</a> :: <a href="Effectful-Dispatch-Static.html#t:HasCallStack" title="Effectful.Dispatch.Static">HasCallStack</a> =&gt; <a href="Effectful-Dispatch-Static-Primitive.html#t:Env" title="Effectful.Dispatch.Static.Primitive">Env</a> es -&gt; <a href="Effectful.html#t:Persistence" title="Effectful">Persistence</a> -&gt; <a href="Effectful.html#t:Limit" title="Effectful">Limit</a> -&gt; ((<span class="keyword">forall</span> r. <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es r -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a</li><li class="src short"><a href="#v:unsafeSeqUnliftIO">unsafeSeqUnliftIO</a> :: <a href="Effectful-Dispatch-Static.html#t:HasCallStack" title="Effectful.Dispatch.Static">HasCallStack</a> =&gt; ((<span class="keyword">forall</span> r. <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es r -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</li><li class="src short"><a href="#v:unsafeConcUnliftIO">unsafeConcUnliftIO</a> :: <a href="Effectful-Dispatch-Static.html#t:HasCallStack" title="Effectful.Dispatch.Static">HasCallStack</a> =&gt; <a href="Effectful.html#t:Persistence" title="Effectful">Persistence</a> -&gt; <a href="Effectful.html#t:Limit" title="Effectful">Limit</a> -&gt; ((<span class="keyword">forall</span> r. <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es r -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</li><li class="src short"><a href="#v:unEff">unEff</a> :: <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a -&gt; <a href="Effectful-Dispatch-Static-Primitive.html#t:Env" title="Effectful.Dispatch.Static.Primitive">Env</a> es -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a</li><li class="src short"><a href="#v:unsafeEff">unsafeEff</a> :: (<a href="Effectful-Dispatch-Static-Primitive.html#t:Env" title="Effectful.Dispatch.Static.Primitive">Env</a> es -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</li><li class="src short"><a href="#v:unsafeEff_">unsafeEff_</a> :: <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</li><li class="src short"><a href="#v:unsafeLiftMapIO">unsafeLiftMapIO</a> :: <a href="Effectful-Dispatch-Static.html#t:HasCallStack" title="Effectful.Dispatch.Static">HasCallStack</a> =&gt; (<a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es b</li><li class="src short"><span class="keyword">type</span> <a href="#t:HasCallStack">HasCallStack</a> = ?callStack :: <a href="Effectful-Error-Static.html#t:CallStack" title="Effectful.Error.Static">CallStack</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Introduction</h1></a><div class="doc"><p>Unlike dynamically dispatched effects, statically dispatched effects have a
 single, set interpretation that cannot be changed at runtime, which makes
 them useful in specific scenarios. For example:</p><ul><li>If you'd like to ensure that a specific effect will behave in a certain way
   at all times, using a statically dispatched version is the only way to
   ensure that.</li><li>If the effect you're about to define has only one reasonable
   implementation, it makes a lot of sense to make it statically dispatched.</li></ul><p>Statically dispatched effects also perform slightly better than dynamically
 dispatched ones, because their operations are implemented as standard top
 level functions, so the compiler can apply more optimizations to them.</p></div><a href="#g:2" id="g:2"><h2>An example</h2></a><div class="doc"><p>Let's say that there exists a logging library whose functionality we'd like
 to turn into an effect. Its <code>Logger</code> data type (after simplification) is
 represented in the following way:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>data Logger = Logger { logMessage :: String -&gt; IO () }
</code></strong></pre><p>Because the <code>Logger</code> type itself allows customization of how messages are
 logged, it is an excellent candidate to be turned into a statically
 dispatched effect.</p><p>Such effect is represented by an empty data type of kind <code><a href="Effectful.html#v:Effect" title="Effectful">Effect</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>data Log :: Effect
</code></strong></pre><p>When it comes to the dispatch, we also need to signify whether core
 operations of the effect will perform side effects. Since GHC is not a
 polygraph, you can lie, though being truthful is recommended &#128578;</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>type instance DispatchOf Log = Static WithSideEffects
</code></strong></pre><p>The environment of <code><a href="Effectful.html#t:Eff" title="Effectful">Eff</a></code> will hold the data type that represents the
 effect. It is defined by the appropriate instance of the <code><a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a></code> data
 family:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>newtype instance StaticRep Log = Log Logger
</code></strong></pre><p><em>Note:</em> all operations of a statically dispatched effect will have a
 read/write access to this data type as long as they can see its constructors,
 hence it's best not to export them from the module that defines the effect.</p><p>The logging operation can be defined as follows:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong> log :: (IOE :&gt; es, Log :&gt; es) =&gt; String -&gt; Eff es ()
 log msg = do
   Log logger &lt;- getStaticRep
   liftIO $ logMessage logger msg
:}
</pre><p>That works, but has an unfortunate consequence: in order to use the <code>log</code>
 operation the <code><a href="Effectful.html#t:IOE" title="Effectful">IOE</a></code> effect needs to be in scope! This is bad, because we're
 trying to limit (ideally, fully eliminate) the need to have the full power of
 <code><a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a></code> available in the application code. The solution is to use one of the
 escape hatches that allow unrestricted access to the internal representation
 of <code><a href="Effectful.html#t:Eff" title="Effectful">Eff</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong> log :: Log :&gt; es =&gt; String -&gt; Eff es ()
 log msg = do
   Log logger &lt;- getStaticRep
   unsafeEff_ $ logMessage logger msg
:}
</pre><p>However, since logging is most often an operation with side effects, in order
 for this approach to be sound, the function that introduces the <code>Log</code> effect
 needs to require the <code><a href="Effectful.html#t:IOE" title="Effectful">IOE</a></code> effect.</p><p>If you forget to do that, don't worry. As long as the <code><a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a></code> instance
 was correctly defined to be <code><code><a href="Effectful.html#v:Static" title="Effectful">Static</a></code> <code><a href="Effectful-Dispatch-Static.html#v:WithSideEffects" title="Effectful.Dispatch.Static">WithSideEffects</a></code></code>, you will get a
 reminder:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong> runLog :: Logger -&gt; Eff (Log : es) a -&gt; Eff es a
 runLog logger = evalStaticRep (Log logger)
:}
...
...No instance for ...IOE :&gt; es... arising from a use of &#8216;evalStaticRep&#8217;
...
</pre><p>Including <code><code><a href="Effectful.html#t:IOE" title="Effectful">IOE</a></code> :&gt; es</code> in the context fixes the problem:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong> runLog :: IOE :&gt; es =&gt; Logger -&gt; Eff (Log : es) a -&gt; Eff es a
 runLog logger = evalStaticRep (Log logger)
:}
</pre><p>In general, whenever any operation of a statically dispatched effect performs
 side effects using one of the unsafe functions, all functions that introduce
 this effect need to require the <code><a href="Effectful.html#t:IOE" title="Effectful">IOE</a></code> effect (otherwise it would be possible
 to run it via <code><a href="Effectful.html#v:runPureEff" title="Effectful">runPureEff</a></code>).</p><p>Now we can use the newly defined effect to log messages:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>dummyLogger = Logger { logMessage = \_ -&gt; pure () }
</code></strong></pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>stdoutLogger = Logger { logMessage = putStrLn }
</code></strong></pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong>  action = do
    log &quot;Computing things...&quot;
    log &quot;Sleeping...&quot;
    log &quot;Computing more things...&quot;
    pure True
:}
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t action
</code></strong>action :: (Log :&gt; es) =&gt; Eff es Bool
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runEff . runLog stdoutLogger $ action
</code></strong>Computing things...
Sleeping...
Computing more things...
True
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runEff . runLog dummyLogger $ action
</code></strong>True
</pre></div><a href="#g:3" id="g:3"><h1>Low level API</h1></a><div class="top"><p class="src"><span class="keyword">data family</span> <a id="t:StaticRep" class="def">StaticRep</a> (e :: <a href="Effectful.html#t:Effect" title="Effectful">Effect</a>) :: <a href="Effectful-Internal-Effect.html#t:Type" title="Effectful.Internal.Effect">Type</a> <a href="src/Effectful.Internal.Monad.html#StaticRep" class="link">Source</a> <a href="#t:StaticRep" class="selflink">#</a></p><div class="doc"><p>Internal representations of statically dispatched effects.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:StaticRep">Instances</h4><details id="i:StaticRep" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:StaticRep:StaticRep:1"></span> <span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> <a href="Effectful.html#t:IOE" title="Effectful">IOE</a></span> <a href="src/Effectful.Internal.Monad.html#line-336" class="link">Source</a> <a href="#t:StaticRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:StaticRep:StaticRep:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Effectful-Internal-Monad.html">Effectful.Internal.Monad</a></p> <div class="src"><span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> <a href="Effectful.html#t:IOE" title="Effectful">IOE</a> = <a id="v:IOE" class="def">IOE</a> <a href="Effectful.html#t:UnliftStrategy" title="Effectful">UnliftStrategy</a></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:StaticRep:StaticRep:2"></span> <span class="keyword">data</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> <a href="Effectful-Prim.html#t:Prim" title="Effectful.Prim">Prim</a></span> <a href="src/Effectful.Internal.Monad.html#line-382" class="link">Source</a> <a href="#t:StaticRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:StaticRep:StaticRep:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Effectful-Internal-Monad.html">Effectful.Internal.Monad</a></p> <div class="src"><span class="keyword">data</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> <a href="Effectful-Prim.html#t:Prim" title="Effectful.Prim">Prim</a> = <a id="v:Prim" class="def">Prim</a></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:StaticRep:StaticRep:3"></span> <span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Error-Static.html#t:Error" title="Effectful.Error.Static">Error</a> e)</span> <a href="src/Effectful.Error.Static.html#line-113" class="link">Source</a> <a href="#t:StaticRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:StaticRep:StaticRep:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Effectful-Error-Static.html">Effectful.Error.Static</a></p> <div class="src"><span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Error-Static.html#t:Error" title="Effectful.Error.Static">Error</a> e) = <a id="v:Error" class="def">Error</a> ErrorId</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:StaticRep:StaticRep:4"></span> <span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Reader-Static.html#t:Reader" title="Effectful.Reader.Static">Reader</a> r)</span> <a href="src/Effectful.Reader.Static.html#line-24" class="link">Source</a> <a href="#t:StaticRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:StaticRep:StaticRep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Effectful-Reader-Static.html">Effectful.Reader.Static</a></p> <div class="src"><span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Reader-Static.html#t:Reader" title="Effectful.Reader.Static">Reader</a> r) = <a id="v:Reader" class="def">Reader</a> r</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:StaticRep:StaticRep:5"></span> <span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-State-Static-Local.html#t:State" title="Effectful.State.Static.Local">State</a> s)</span> <a href="src/Effectful.State.Static.Local.html#line-51" class="link">Source</a> <a href="#t:StaticRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:StaticRep:StaticRep:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Effectful-State-Static-Local.html">Effectful.State.Static.Local</a></p> <div class="src"><span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-State-Static-Local.html#t:State" title="Effectful.State.Static.Local">State</a> s) = <a id="v:State" class="def">State</a> s</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:StaticRep:StaticRep:6"></span> <span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-State-Static-Shared.html#t:State" title="Effectful.State.Static.Shared">State</a> s)</span> <a href="src/Effectful.State.Static.Shared.html#line-59" class="link">Source</a> <a href="#t:StaticRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:StaticRep:StaticRep:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Effectful-State-Static-Shared.html">Effectful.State.Static.Shared</a></p> <div class="src"><span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-State-Static-Shared.html#t:State" title="Effectful.State.Static.Shared">State</a> s) = <a id="v:State" class="def">State</a> (<a href="Effectful-Internal-Utils.html#t:MVar-39-" title="Effectful.Internal.Utils">MVar'</a> s)</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:StaticRep:StaticRep:7"></span> <span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Writer-Static-Local.html#t:Writer" title="Effectful.Writer.Static.Local">Writer</a> w)</span> <a href="src/Effectful.Writer.Static.Local.html#line-41" class="link">Source</a> <a href="#t:StaticRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:StaticRep:StaticRep:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Effectful-Writer-Static-Local.html">Effectful.Writer.Static.Local</a></p> <div class="src"><span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Writer-Static-Local.html#t:Writer" title="Effectful.Writer.Static.Local">Writer</a> w) = <a id="v:Writer" class="def">Writer</a> w</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:StaticRep:StaticRep:8"></span> <span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Writer-Static-Shared.html#t:Writer" title="Effectful.Writer.Static.Shared">Writer</a> w)</span> <a href="src/Effectful.Writer.Static.Shared.html#line-41" class="link">Source</a> <a href="#t:StaticRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:StaticRep:StaticRep:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Effectful-Writer-Static-Shared.html">Effectful.Writer.Static.Shared</a></p> <div class="src"><span class="keyword">newtype</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Writer-Static-Shared.html#t:Writer" title="Effectful.Writer.Static.Shared">Writer</a> w) = <a id="v:Writer" class="def">Writer</a> (<a href="Effectful-Internal-Utils.html#t:MVar-39-" title="Effectful.Internal.Utils">MVar'</a> w)</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:StaticRep:StaticRep:9"></span> <span class="keyword">data</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Labeled.html#t:Labeled" title="Effectful.Labeled">Labeled</a> label e)</span> <a href="src/Effectful.Labeled.html#line-60" class="link">Source</a> <a href="#t:StaticRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:StaticRep:StaticRep:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Effectful-Labeled.html">Effectful.Labeled</a></p> <div class="src"><span class="keyword">data</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Labeled.html#t:Labeled" title="Effectful.Labeled">Labeled</a> label e)</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:StaticRep:StaticRep:10"></span> <span class="keyword">data</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Provider.html#t:Provider" title="Effectful.Provider">Provider</a> e input f)</span> <a href="src/Effectful.Provider.html#line-122" class="link">Source</a> <a href="#t:StaticRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:StaticRep:StaticRep:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Effectful-Provider.html">Effectful.Provider</a></p> <div class="src"><span class="keyword">data</span> <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Provider.html#t:Provider" title="Effectful.Provider">Provider</a> e input f) <span class="keyword">where</span><ul class="inst"><li class="inst"><a id="v:Provider" class="def">Provider</a> :: <span class="keyword">forall</span> (handlerEs :: [<a href="Effectful.html#t:Effect" title="Effectful">Effect</a>]) input (e :: <a href="Effectful.html#t:Effect" title="Effectful">Effect</a>) (f :: <a href="Effectful-Internal-Effect.html#t:Type" title="Effectful.Internal.Effect">Type</a> -&gt; <a href="Effectful-Internal-Effect.html#t:Type" title="Effectful.Internal.Effect">Type</a>). !(<a href="Effectful-Dispatch-Static-Primitive.html#t:Env" title="Effectful.Dispatch.Static.Primitive">Env</a> handlerEs) -&gt; !(<span class="keyword">forall</span> r. input -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> (e ': handlerEs) r -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> handlerEs (f r)) -&gt; <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> (<a href="Effectful-Provider.html#t:Provider" title="Effectful.Provider">Provider</a> e input f)</li></ul></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SideEffects" class="def">SideEffects</a> <a href="src/Effectful.Internal.Env.html#SideEffects" class="link">Source</a> <a href="#t:SideEffects" class="selflink">#</a></p><div class="doc"><p>Signifies whether core operations of a statically dispatched effect perform
 side effects. If an effect is marked as such, the
 <code><a href="Effectful-Dispatch-Static.html#v:runStaticRep" title="Effectful.Dispatch.Static">runStaticRep</a></code> family of functions will require the
 <code><a href="Effectful.html#v:IOE" title="Effectful">IOE</a></code> effect to be in context via the
 <code><a href="Effectful-Dispatch-Static.html#v:MaybeIOE" title="Effectful.Dispatch.Static">MaybeIOE</a></code> type family.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoSideEffects" class="def">NoSideEffects</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:WithSideEffects" class="def">WithSideEffects</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:MaybeIOE" class="def">MaybeIOE</a> (sideEffects :: <a href="Effectful-Dispatch-Static.html#t:SideEffects" title="Effectful.Dispatch.Static">SideEffects</a>) (es :: [<a href="Effectful.html#t:Effect" title="Effectful">Effect</a>]) :: <a href="../base-4.18.2.0/Data-Kind.html#t:Constraint" title="Data.Kind">Constraint</a> <span class="keyword">where ...</span> <a href="src/Effectful.Internal.Monad.html#MaybeIOE" class="link">Source</a> <a href="#t:MaybeIOE" class="selflink">#</a></p><div class="doc"><p>Require the <code><a href="Effectful.html#t:IOE" title="Effectful">IOE</a></code> effect for running statically dispatched effects whose
 operations perform side effects.</p></div><div class="subs equations"><p class="caption">Equations</p><table><tr><td class="src"><a href="Effectful-Dispatch-Static.html#t:MaybeIOE" title="Effectful.Dispatch.Static">MaybeIOE</a> <a href="Effectful-Dispatch-Static.html#v:NoSideEffects" title="Effectful.Dispatch.Static">NoSideEffects</a> _ = ()</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Effectful-Dispatch-Static.html#t:MaybeIOE" title="Effectful.Dispatch.Static">MaybeIOE</a> <a href="Effectful-Dispatch-Static.html#v:WithSideEffects" title="Effectful.Dispatch.Static">WithSideEffects</a> es = <a href="Effectful.html#t:IOE" title="Effectful">IOE</a> <a href="Effectful.html#t::-62-" title="Effectful">:&gt;</a> es</td><td class="doc empty">&nbsp;</td></tr></table></div></div><a href="#g:4" id="g:4"><h2>Extending the environment</h2></a><div class="top"><p class="src"><a id="v:runStaticRep" class="def">runStaticRep</a> <a href="src/Effectful.Internal.Monad.html#runStaticRep" class="link">Source</a> <a href="#v:runStaticRep" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, <a href="Effectful-Dispatch-Static.html#t:MaybeIOE" title="Effectful.Dispatch.Static">MaybeIOE</a> sideEffects es)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e</td><td class="doc"><p>The initial representation.</p></td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> (e : es) a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es (a, <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run a statically dispatched effect with the given initial representation
 and return the final value along with the final representation.</p></div></div><div class="top"><p class="src"><a id="v:evalStaticRep" class="def">evalStaticRep</a> <a href="src/Effectful.Internal.Monad.html#evalStaticRep" class="link">Source</a> <a href="#v:evalStaticRep" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, <a href="Effectful-Dispatch-Static.html#t:MaybeIOE" title="Effectful.Dispatch.Static">MaybeIOE</a> sideEffects es)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e</td><td class="doc"><p>The initial representation.</p></td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> (e : es) a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run a statically dispatched effect with the given initial representation
 and return the final value, discarding the final representation.</p></div></div><div class="top"><p class="src"><a id="v:execStaticRep" class="def">execStaticRep</a> <a href="src/Effectful.Internal.Monad.html#execStaticRep" class="link">Source</a> <a href="#v:execStaticRep" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, <a href="Effectful-Dispatch-Static.html#t:MaybeIOE" title="Effectful.Dispatch.Static">MaybeIOE</a> sideEffects es)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e</td><td class="doc"><p>The initial representation.</p></td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> (e : es) a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es (<a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run a statically dispatched effect with the given initial representation
 and return the final representation, discarding the final value.</p></div></div><a href="#g:5" id="g:5"><h2>Data retrieval and update</h2></a><div class="top"><p class="src"><a id="v:getStaticRep" class="def">getStaticRep</a> :: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, e <a href="Effectful.html#t::-62-" title="Effectful">:&gt;</a> es) =&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es (<a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e) <a href="src/Effectful.Internal.Monad.html#getStaticRep" class="link">Source</a> <a href="#v:getStaticRep" class="selflink">#</a></p><div class="doc"><p>Fetch the current representation of the effect.</p></div></div><div class="top"><p class="src"><a id="v:putStaticRep" class="def">putStaticRep</a> :: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, e <a href="Effectful.html#t::-62-" title="Effectful">:&gt;</a> es) =&gt; <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es () <a href="src/Effectful.Internal.Monad.html#putStaticRep" class="link">Source</a> <a href="#v:putStaticRep" class="selflink">#</a></p><div class="doc"><p>Set the current representation of the effect to the given value.</p></div></div><div class="top"><p class="src"><a id="v:stateStaticRep" class="def">stateStaticRep</a> <a href="src/Effectful.Internal.Monad.html#stateStaticRep" class="link">Source</a> <a href="#v:stateStaticRep" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, e <a href="Effectful.html#t::-62-" title="Effectful">:&gt;</a> es)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e -&gt; (a, <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e))</td><td class="doc"><p>The function to modify the representation.</p></td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Apply the function to the current representation of the effect and return a
 value.</p></div></div><div class="top"><p class="src"><a id="v:stateStaticRepM" class="def">stateStaticRepM</a> <a href="src/Effectful.Internal.Monad.html#stateStaticRepM" class="link">Source</a> <a href="#v:stateStaticRepM" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, e <a href="Effectful.html#t::-62-" title="Effectful">:&gt;</a> es)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es (a, <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e))</td><td class="doc"><p>The function to modify the representation.</p></td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Apply the monadic function to the current representation of the effect and
 return a value.</p></div></div><div class="top"><p class="src"><a id="v:localStaticRep" class="def">localStaticRep</a> <a href="src/Effectful.Internal.Monad.html#localStaticRep" class="link">Source</a> <a href="#v:localStaticRep" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Effectful.html#t:DispatchOf" title="Effectful">DispatchOf</a> e <a href="../base-4.18.2.0/Data-Type-Equality.html#t:-126-" title="Data.Type.Equality">~</a> <a href="Effectful.html#v:Static" title="Effectful">Static</a> sideEffects, e <a href="Effectful.html#t::-62-" title="Effectful">:&gt;</a> es)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e -&gt; <a href="Effectful-Dispatch-Static.html#t:StaticRep" title="Effectful.Dispatch.Static">StaticRep</a> e)</td><td class="doc"><p>The function to temporarily modify the representation.</p></td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Execute a computation with a temporarily modified representation of the
 effect.</p></div></div><a href="#g:6" id="g:6"><h2>Unlifts</h2></a><div class="top"><p class="src"><a id="v:seqUnliftIO" class="def">seqUnliftIO</a> <a href="src/Effectful.Internal.Monad.html#seqUnliftIO" class="link">Source</a> <a href="#v:seqUnliftIO" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Effectful-Dispatch-Static.html#t:HasCallStack" title="Effectful.Dispatch.Static">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Effectful-Dispatch-Static-Primitive.html#t:Env" title="Effectful.Dispatch.Static.Primitive">Env</a> es</td><td class="doc"><p>The environment.</p></td></tr><tr><td class="src">-&gt; ((<span class="keyword">forall</span> r. <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es r -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a)</td><td class="doc"><p>Continuation with the unlifting function in scope.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create an unlifting function with the <code><a href="Effectful.html#v:SeqUnlift" title="Effectful">SeqUnlift</a></code> strategy.</p></div></div><div class="top"><p class="src"><a id="v:concUnliftIO" class="def">concUnliftIO</a> <a href="src/Effectful.Internal.Monad.html#concUnliftIO" class="link">Source</a> <a href="#v:concUnliftIO" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Effectful-Dispatch-Static.html#t:HasCallStack" title="Effectful.Dispatch.Static">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Effectful-Dispatch-Static-Primitive.html#t:Env" title="Effectful.Dispatch.Static.Primitive">Env</a> es</td><td class="doc"><p>The environment.</p></td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Persistence" title="Effectful">Persistence</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Limit" title="Effectful">Limit</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; ((<span class="keyword">forall</span> r. <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es r -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a)</td><td class="doc"><p>Continuation with the unlifting function in scope.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create an unlifting function with the <code><a href="Effectful.html#v:ConcUnlift" title="Effectful">ConcUnlift</a></code> strategy.</p></div></div><div class="top"><p class="src"><a id="v:unsafeSeqUnliftIO" class="def">unsafeSeqUnliftIO</a> <a href="src/Effectful.Dispatch.Static.html#unsafeSeqUnliftIO" class="link">Source</a> <a href="#v:unsafeSeqUnliftIO" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Effectful-Dispatch-Static.html#t:HasCallStack" title="Effectful.Dispatch.Static">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; ((<span class="keyword">forall</span> r. <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es r -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a)</td><td class="doc"><p>Continuation with the unlifting function in scope.</p></td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create an unlifting function with the <code><a href="Effectful.html#v:SeqUnlift" title="Effectful">SeqUnlift</a></code> strategy.</p><p>This function is <strong>unsafe</strong> because it can be used to introduce arbitrary
 <code><a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a></code> actions into pure <code><a href="Effectful.html#t:Eff" title="Effectful">Eff</a></code> computations.</p></div></div><div class="top"><p class="src"><a id="v:unsafeConcUnliftIO" class="def">unsafeConcUnliftIO</a> <a href="src/Effectful.Dispatch.Static.html#unsafeConcUnliftIO" class="link">Source</a> <a href="#v:unsafeConcUnliftIO" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Effectful-Dispatch-Static.html#t:HasCallStack" title="Effectful.Dispatch.Static">HasCallStack</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Effectful.html#t:Persistence" title="Effectful">Persistence</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Limit" title="Effectful">Limit</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; ((<span class="keyword">forall</span> r. <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es r -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a)</td><td class="doc"><p>Continuation with the unlifting function in scope.</p></td></tr><tr><td class="src">-&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create an unlifting function with the <code><a href="Effectful.html#v:ConcUnlift" title="Effectful">ConcUnlift</a></code> strategy.</p><p>This function is <strong>unsafe</strong> because it can be used to introduce arbitrary
 <code><a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a></code> actions into pure <code><a href="Effectful.html#t:Eff" title="Effectful">Eff</a></code> computations.</p></div></div><a href="#g:7" id="g:7"><h2>Utils</h2></a><div class="top"><p class="src"><a id="v:unEff" class="def">unEff</a> :: <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a -&gt; <a href="Effectful-Dispatch-Static-Primitive.html#t:Env" title="Effectful.Dispatch.Static.Primitive">Env</a> es -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a <a href="src/Effectful.Internal.Monad.html#unEff" class="link">Source</a> <a href="#v:unEff" class="selflink">#</a></p><div class="doc"><p>Peel off the constructor of <code><a href="Effectful.html#t:Eff" title="Effectful">Eff</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:unsafeEff" class="def">unsafeEff</a> :: (<a href="Effectful-Dispatch-Static-Primitive.html#t:Env" title="Effectful.Dispatch.Static.Primitive">Env</a> es -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a) -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a <a href="src/Effectful.Internal.Monad.html#unsafeEff" class="link">Source</a> <a href="#v:unsafeEff" class="selflink">#</a></p><div class="doc"><p>Access the underlying <code><a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a></code> monad along with the environment.</p><p>This function is <strong>unsafe</strong> because it can be used to introduce arbitrary
 <code><a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a></code> actions into pure <code><a href="Effectful.html#t:Eff" title="Effectful">Eff</a></code> computations.</p></div></div><div class="top"><p class="src"><a id="v:unsafeEff_" class="def">unsafeEff_</a> :: <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a <a href="src/Effectful.Internal.Monad.html#unsafeEff_" class="link">Source</a> <a href="#v:unsafeEff_" class="selflink">#</a></p><div class="doc"><p>Access the underlying <code><a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a></code> monad.</p><p>This function is <strong>unsafe</strong> because it can be used to introduce arbitrary
 <code><a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a></code> actions into pure <code><a href="Effectful.html#t:Eff" title="Effectful">Eff</a></code> computations.</p></div></div><div class="top"><p class="src"><a id="v:unsafeLiftMapIO" class="def">unsafeLiftMapIO</a> :: <a href="Effectful-Dispatch-Static.html#t:HasCallStack" title="Effectful.Dispatch.Static">HasCallStack</a> =&gt; (<a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es a -&gt; <a href="Effectful.html#t:Eff" title="Effectful">Eff</a> es b <a href="src/Effectful.Dispatch.Static.html#unsafeLiftMapIO" class="link">Source</a> <a href="#v:unsafeLiftMapIO" class="selflink">#</a></p><div class="doc"><p>Utility for lifting <code><a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a></code> computations of type</p><pre><code><a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a></code> a -&gt; <code><a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a></code> b</pre><p>to</p><pre><code><a href="Effectful.html#t:Eff" title="Effectful">Eff</a></code> es a -&gt; <code><a href="Effectful.html#t:Eff" title="Effectful">Eff</a></code> es b</pre><p><em>Note:</em> the computation must not run its argument in a separate thread,
 attempting to do so will result in a runtime error.</p><p>This function is <strong>unsafe</strong> because it can be used to introduce arbitrary
 <code><a href="../base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a></code> actions into pure <code><a href="Effectful.html#t:Eff" title="Effectful">Eff</a></code> computations.</p></div></div><a href="#g:8" id="g:8"><h1>Re-exports</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:HasCallStack" class="def">HasCallStack</a> = ?callStack :: <a href="Effectful-Error-Static.html#t:CallStack" title="Effectful.Error.Static">CallStack</a> <a href="#t:HasCallStack" class="selflink">#</a></p><div class="doc"><p>Request a CallStack.</p><p>NOTE: The implicit parameter <code>?callStack :: CallStack</code> is an
 implementation detail and <strong>should not</strong> be considered part of the
 <code><a href="Effectful-Error-Static.html#t:CallStack" title="Effectful.Error.Static">CallStack</a></code> API, we may decide to change the implementation in the
 future.</p><p><em>Since: base-4.9.0.0</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>