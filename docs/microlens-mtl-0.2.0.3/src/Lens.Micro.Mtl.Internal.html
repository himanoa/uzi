<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE KindSignatures #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span class="hs-cpp">
#if !MIN_VERSION_base(4, 9, 0)
</span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- This is needed because ErrorT is deprecated.</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-warnings-deprecations #-}</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="annot"><span class="hs-comment">{- |
Module      :  Lens.Micro.Mtl.Internal
Copyright   :  (C) 2013-2016 Edward Kmett, 2015-2016 Artyom Kazak, 2018 Monadfix
License     :  BSD-style (see the file LICENSE)

This module lets you define your own instances of 'Zoom' and 'Magnify'.

The warning from &quot;Lens.Micro.Internal&quot; applies to this module as well. Don't export functions that have 'Zoom' or 'Magnify' in their type signatures. If you absolutely need to define an instance (e.g. for internal use), only do it for your own types, because otherwise I might add an instance to one of the microlens packages later and if our instances are different it might lead to subtle bugs.
-}</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Lens.Micro.Mtl.Internal</span><span>
</span><span id="line-30"></span><span class="hs-special">(</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Classes</span></span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier">Zoomed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier">Zoom</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnified"><span class="hs-identifier">Magnified</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnify"><span class="hs-identifier">Magnify</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Focusing (used for 'Zoom')</span></span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier">Focusing</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier">FocusingWith</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier">FocusingPlus</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingOn"><span class="hs-identifier">FocusingOn</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier">FocusingMay</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier">FocusingErr</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Effect (used for 'Magnify')</span></span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier">Effect</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier">EffectRWS</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Utilities</span></span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier">May</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier">Err</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">where</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span class="hs-cpp">
#if MIN_VERSION_mtl(2, 3, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftM</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">liftM2</span></span><span class="hs-special">)</span><span class="hs-cpp">
#else
</span><span class="hs-cpp">#endif
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Reader</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Reader</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.State</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">State</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.State.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Lazy</span></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.State.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Strict</span></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Writer.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Lazy</span></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Writer.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Strict</span></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.RWS.Lazy</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Lazy</span></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.RWS.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Strict</span></span><span class="hs-cpp">
#if !MIN_VERSION_transformers(0, 6, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Trans.Error</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Control.Monad.Trans.List</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Except</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Identity</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Maybe</span></span><span>
</span><span id="line-76"></span><span class="hs-comment">-- microlens</span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Lens.Micro</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Lens.Micro.Internal</span></span><span class="hs-cpp">

#if __GLASGOW_HASKELL__ &lt; 710
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Monoid</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_base(4,9,0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Type</span></span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- Zoomed</span><span>
</span><span id="line-91"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="annot"><span class="hs-comment">-- | This type family is used by 'Zoom' to describe the common effect type.</span></span><span class="hs-cpp">
#if MIN_VERSION_base(4,9,0)
</span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="Zoomed"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-var">Zoomed</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679043100"><span class="annot"><a href="#local-6989586621679043100"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-cpp">
#else
</span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span class="hs-identifier">Zoomed</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator">*</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator">*</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Zoomed"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-var">Zoomed</span></a></span></span><span> </span><span id="local-6989586621679043101"><span id="local-6989586621679043102"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043101"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043102"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-type">Focusing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043102"><span class="hs-identifier hs-type">z</span></a></span><span>
</span><span id="line-100"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Zoomed"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-var">Zoomed</span></a></span></span><span> </span><span id="local-6989586621679043103"><span id="local-6989586621679043104"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043103"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043104"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-type">Focusing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043104"><span class="hs-identifier hs-type">z</span></a></span><span>
</span><span id="line-101"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Zoomed"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-var">Zoomed</span></a></span></span><span> </span><span id="local-6989586621679043105"><span id="local-6989586621679043106"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043105"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043106"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-type">Zoomed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043106"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-102"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Zoomed"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-var">Zoomed</span></a></span></span><span> </span><span id="local-6989586621679043107"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043107"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-type">Zoomed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043107"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-103"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Zoomed"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-var">Zoomed</span></a></span></span><span> </span><span id="local-6989586621679043108"><span id="local-6989586621679043109"><span id="local-6989586621679043110"><span id="local-6989586621679043111"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679043108"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043109"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043110"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043111"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-type">FocusingWith</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043109"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043111"><span class="hs-identifier hs-type">z</span></a></span><span>
</span><span id="line-104"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Zoomed"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-var">Zoomed</span></a></span></span><span> </span><span id="local-6989586621679043112"><span id="local-6989586621679043113"><span id="local-6989586621679043114"><span id="local-6989586621679043115"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679043112"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043113"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043114"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043115"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-type">FocusingWith</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043113"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043115"><span class="hs-identifier hs-type">z</span></a></span><span>
</span><span id="line-105"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Zoomed"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-var">Zoomed</span></a></span></span><span> </span><span id="local-6989586621679043116"><span id="local-6989586621679043117"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043116"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043117"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-type">FocusingPlus</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043116"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-type">Zoomed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043117"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Zoomed"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-var">Zoomed</span></a></span></span><span> </span><span id="local-6989586621679043118"><span id="local-6989586621679043119"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043118"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043119"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-type">FocusingPlus</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043118"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-type">Zoomed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043119"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
#if !MIN_VERSION_transformers(0, 6, 0)
</span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Zoomed</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ListT</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">FocusingOn</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Zoomed</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Zoomed</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ErrorT</span><span> </span><span class="hs-identifier">e</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">FocusingErr</span><span> </span><span class="hs-identifier">e</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Zoomed</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Zoomed"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-var">Zoomed</span></a></span></span><span> </span><span id="local-6989586621679043120"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MaybeT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043120"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-type">FocusingMay</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-type">Zoomed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043120"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Zoomed"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-var">Zoomed</span></a></span></span><span> </span><span id="local-6989586621679043121"><span id="local-6989586621679043122"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043121"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043122"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-type">FocusingErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043121"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-type">Zoomed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043122"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- Focusing</span><span>
</span><span id="line-116"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="annot"><span class="hs-comment">-- | Used by 'Zoom' to 'zoom' into 'Control.Monad.State.StateT'.</span></span><span>
</span><span id="line-119"></span><span class="hs-keyword">newtype</span><span> </span><span id="Focusing"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-var">Focusing</span></a></span></span><span> </span><span id="local-6989586621679042559"><span class="annot"><a href="#local-6989586621679042559"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679042560"><span class="annot"><a href="#local-6989586621679042560"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679042561"><span class="annot"><a href="#local-6989586621679042561"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Focusing"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-var">Focusing</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unfocusing"><span class="annot"><span class="annottext">forall (m :: * -&gt; *) s a. Focusing m s a -&gt; m (s, a)
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusing"><span class="hs-identifier hs-var hs-var">unfocusing</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679042559"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042560"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042561"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042573"><span id="local-6989586621679042574"><span id="local-6989586621679043129"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679042573"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-type">Focusing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042573"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042574"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-122"></span><span>  </span><span id="local-6989586621679043135"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; Focusing m s a -&gt; Focusing m s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679043136"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043136"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-type">Focusing</span></a></span><span> </span><span id="local-6989586621679043137"><span class="annot"><span class="annottext">m (s, a)
</span><a href="#local-6989586621679043137"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (s, b) -&gt; Focusing m s b
forall (m :: * -&gt; *) s a. m (s, a) -&gt; Focusing m s a
</span><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-var">Focusing</span></a></span><span> </span><span class="annot"><span class="annottext">(m (s, b) -&gt; Focusing m s b) -&gt; m (s, b) -&gt; Focusing m s b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-123"></span><span>     </span><span class="hs-special">(</span><span id="local-6989586621679043138"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043138"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679043139"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043139"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m (s, a)
</span><a href="#local-6989586621679043137"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-124"></span><span>     </span><span class="annot"><span class="annottext">(s, b) -&gt; m (s, b)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043138"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043136"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043139"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fmap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042595"><span id="local-6989586621679042596"><span id="local-6989586621679043147"><span id="local-6989586621679043151"><span id="local-6989586621679043154"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679042595"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679042596"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-type">Focusing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042595"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042596"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-128"></span><span>  </span><span id="local-6989586621679043159"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; Focusing m s a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span id="local-6989586621679043160"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043160"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (s, a) -&gt; Focusing m s a
forall (m :: * -&gt; *) s a. m (s, a) -&gt; Focusing m s a
</span><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-var">Focusing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(s, a) -&gt; m (s, a)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043160"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">pure</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-130"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-type">Focusing</span></a></span><span> </span><span id="local-6989586621679043165"><span class="annot"><span class="annottext">m (s, a -&gt; b)
</span><a href="#local-6989586621679043165"><span class="hs-identifier hs-var">mf</span></a></span></span><span> </span><span id="local-6989586621679043166"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b.
Focusing m s (a -&gt; b) -&gt; Focusing m s a -&gt; Focusing m s b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-type">Focusing</span></a></span><span> </span><span id="local-6989586621679043167"><span class="annot"><span class="annottext">m (s, a)
</span><a href="#local-6989586621679043167"><span class="hs-identifier hs-var">ma</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (s, b) -&gt; Focusing m s b
forall (m :: * -&gt; *) s a. m (s, a) -&gt; Focusing m s a
</span><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-var">Focusing</span></a></span><span> </span><span class="annot"><span class="annottext">(m (s, b) -&gt; Focusing m s b) -&gt; m (s, b) -&gt; Focusing m s b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679043168"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043168"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679043169"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043169"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m (s, a -&gt; b)
</span><a href="#local-6989586621679043165"><span class="hs-identifier hs-var">mf</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679043170"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043170"><span class="hs-identifier hs-var">s'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679043171"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043171"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m (s, a)
</span><a href="#local-6989586621679043167"><span class="hs-identifier hs-var">ma</span></a></span><span>
</span><span id="line-133"></span><span>    </span><span class="annot"><span class="annottext">(s, b) -&gt; m (s, b)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; s -&gt; s
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043168"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043170"><span class="hs-identifier hs-var">s'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043169"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043171"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- FocusingWith</span><span>
</span><span id="line-138"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="annot"><span class="hs-comment">-- | Used by 'Zoom' to 'zoom' into 'Control.Monad.RWS.RWST'.</span></span><span>
</span><span id="line-141"></span><span class="hs-keyword">newtype</span><span> </span><span id="FocusingWith"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-var">FocusingWith</span></a></span></span><span> </span><span id="local-6989586621679042601"><span class="annot"><a href="#local-6989586621679042601"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621679042602"><span class="annot"><a href="#local-6989586621679042602"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679042603"><span class="annot"><a href="#local-6989586621679042603"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679042604"><span class="annot"><a href="#local-6989586621679042604"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FocusingWith"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-var">FocusingWith</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unfocusingWith"><span class="annot"><span class="annottext">forall w (m :: * -&gt; *) s a. FocusingWith w m s a -&gt; m (s, a, w)
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusingWith"><span class="hs-identifier hs-var hs-var">unfocusingWith</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679042602"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042603"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042604"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042601"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042613"><span id="local-6989586621679042614"><span id="local-6989586621679042615"><span id="local-6989586621679043177"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679042613"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-type">FocusingWith</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042614"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042613"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042615"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>  </span><span id="local-6989586621679043182"><span class="annot"><span class="annottext">fmap :: forall a b.
(a -&gt; b) -&gt; FocusingWith w m s a -&gt; FocusingWith w m s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679043183"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043183"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-type">FocusingWith</span></a></span><span> </span><span id="local-6989586621679043184"><span class="annot"><span class="annottext">m (s, a, w)
</span><a href="#local-6989586621679043184"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (s, b, w) -&gt; FocusingWith w m s b
forall w (m :: * -&gt; *) s a. m (s, a, w) -&gt; FocusingWith w m s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-var">FocusingWith</span></a></span><span> </span><span class="annot"><span class="annottext">(m (s, b, w) -&gt; FocusingWith w m s b)
-&gt; m (s, b, w) -&gt; FocusingWith w m s b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-145"></span><span>     </span><span class="hs-special">(</span><span id="local-6989586621679043185"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043185"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679043186"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043186"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679043187"><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621679043187"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m (s, a, w)
</span><a href="#local-6989586621679043184"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-146"></span><span>     </span><span class="annot"><span class="annottext">(s, b, w) -&gt; m (s, b, w)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043185"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043183"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043186"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621679043187"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fmap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042621"><span id="local-6989586621679042622"><span id="local-6989586621679042623"><span id="local-6989586621679043196"><span id="local-6989586621679043200"><span id="local-6989586621679043203"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679042621"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679042622"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679042623"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-type">FocusingWith</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042623"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042621"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042622"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-150"></span><span>  </span><span id="local-6989586621679043208"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; FocusingWith w m s a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span id="local-6989586621679043209"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043209"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (s, a, w) -&gt; FocusingWith w m s a
forall w (m :: * -&gt; *) s a. m (s, a, w) -&gt; FocusingWith w m s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-var">FocusingWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(s, a, w) -&gt; m (s, a, w)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043209"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">w
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">pure</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-type">FocusingWith</span></a></span><span> </span><span id="local-6989586621679043215"><span class="annot"><span class="annottext">m (s, a -&gt; b, w)
</span><a href="#local-6989586621679043215"><span class="hs-identifier hs-var">mf</span></a></span></span><span> </span><span id="local-6989586621679043216"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b.
FocusingWith w m s (a -&gt; b)
-&gt; FocusingWith w m s a -&gt; FocusingWith w m s b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-type">FocusingWith</span></a></span><span> </span><span id="local-6989586621679043217"><span class="annot"><span class="annottext">m (s, a, w)
</span><a href="#local-6989586621679043217"><span class="hs-identifier hs-var">ma</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (s, b, w) -&gt; FocusingWith w m s b
forall w (m :: * -&gt; *) s a. m (s, a, w) -&gt; FocusingWith w m s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-var">FocusingWith</span></a></span><span> </span><span class="annot"><span class="annottext">(m (s, b, w) -&gt; FocusingWith w m s b)
-&gt; m (s, b, w) -&gt; FocusingWith w m s b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679043218"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043218"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679043219"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043219"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679043220"><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621679043220"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m (s, a -&gt; b, w)
</span><a href="#local-6989586621679043215"><span class="hs-identifier hs-var">mf</span></a></span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679043221"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043221"><span class="hs-identifier hs-var">s'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679043222"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043222"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679043223"><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621679043223"><span class="hs-identifier hs-var">w'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m (s, a, w)
</span><a href="#local-6989586621679043217"><span class="hs-identifier hs-var">ma</span></a></span><span>
</span><span id="line-155"></span><span>    </span><span class="annot"><span class="annottext">(s, b, w) -&gt; m (s, b, w)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; s -&gt; s
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043218"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043221"><span class="hs-identifier hs-var">s'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043219"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043222"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">w -&gt; w -&gt; w
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621679043220"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621679043223"><span class="hs-identifier hs-var">w'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- FocusingPlus</span><span>
</span><span id="line-160"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="annot"><span class="hs-comment">-- | Used by 'Zoom' to 'zoom' into 'Control.Monad.Writer.WriterT'.</span></span><span>
</span><span id="line-163"></span><span class="hs-keyword">newtype</span><span> </span><span id="FocusingPlus"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-var">FocusingPlus</span></a></span></span><span> </span><span id="local-6989586621679042627"><span class="annot"><a href="#local-6989586621679042627"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621679042628"><span class="annot"><a href="#local-6989586621679042628"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679042629"><span class="annot"><a href="#local-6989586621679042629"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679042630"><span class="annot"><a href="#local-6989586621679042630"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FocusingPlus"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-var">FocusingPlus</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unfocusingPlus"><span class="annot"><span class="annottext">forall w (k :: * -&gt; * -&gt; *) s a. FocusingPlus w k s a -&gt; k (s, w) a
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusingPlus"><span class="hs-identifier hs-var hs-var">unfocusingPlus</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679042628"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042629"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042627"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042630"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042639"><span id="local-6989586621679042640"><span id="local-6989586621679042641"><span id="local-6989586621679043229"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042639"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042640"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042641"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-type">FocusingPlus</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042641"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042639"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042640"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-166"></span><span>  </span><span id="local-6989586621679043233"><span class="annot"><span class="annottext">fmap :: forall a b.
(a -&gt; b) -&gt; FocusingPlus w k s a -&gt; FocusingPlus w k s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679043234"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043234"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-type">FocusingPlus</span></a></span><span> </span><span id="local-6989586621679043235"><span class="annot"><span class="annottext">k (s, w) a
</span><a href="#local-6989586621679043235"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (s, w) b -&gt; FocusingPlus w k s b
forall w (k :: * -&gt; * -&gt; *) s a. k (s, w) a -&gt; FocusingPlus w k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-var">FocusingPlus</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; k (s, w) a -&gt; k (s, w) b
forall a b. (a -&gt; b) -&gt; k (s, w) a -&gt; k (s, w) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043234"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k (s, w) a
</span><a href="#local-6989586621679043235"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fmap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042647"><span id="local-6989586621679042648"><span id="local-6989586621679042649"><span id="local-6989586621679043243"><span id="local-6989586621679043247"><span id="local-6989586621679043250"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042647"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042648"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042649"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-type">FocusingPlus</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042649"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042647"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042648"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-170"></span><span>  </span><span id="local-6989586621679043254"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; FocusingPlus w k s a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (s, w) a -&gt; FocusingPlus w k s a
forall w (k :: * -&gt; * -&gt; *) s a. k (s, w) a -&gt; FocusingPlus w k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-var">FocusingPlus</span></a></span><span> </span><span class="annot"><span class="annottext">(k (s, w) a -&gt; FocusingPlus w k s a)
-&gt; (a -&gt; k (s, w) a) -&gt; a -&gt; FocusingPlus w k s a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; k (s, w) a
forall a. a -&gt; k (s, w) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">pure</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-type">FocusingPlus</span></a></span><span> </span><span id="local-6989586621679043257"><span class="annot"><span class="annottext">k (s, w) (a -&gt; b)
</span><a href="#local-6989586621679043257"><span class="hs-identifier hs-var">kf</span></a></span></span><span> </span><span id="local-6989586621679043258"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b.
FocusingPlus w k s (a -&gt; b)
-&gt; FocusingPlus w k s a -&gt; FocusingPlus w k s b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-type">FocusingPlus</span></a></span><span> </span><span id="local-6989586621679043259"><span class="annot"><span class="annottext">k (s, w) a
</span><a href="#local-6989586621679043259"><span class="hs-identifier hs-var">ka</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (s, w) b -&gt; FocusingPlus w k s b
forall w (k :: * -&gt; * -&gt; *) s a. k (s, w) a -&gt; FocusingPlus w k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-var">FocusingPlus</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k (s, w) (a -&gt; b)
</span><a href="#local-6989586621679043257"><span class="hs-identifier hs-var">kf</span></a></span><span> </span><span class="annot"><span class="annottext">k (s, w) (a -&gt; b) -&gt; k (s, w) a -&gt; k (s, w) b
forall a b. k (s, w) (a -&gt; b) -&gt; k (s, w) a -&gt; k (s, w) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">k (s, w) a
</span><a href="#local-6989586621679043259"><span class="hs-identifier hs-var">ka</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- FocusingOn</span><span>
</span><span id="line-177"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="annot"><span class="hs-comment">-- | Used by 'Zoom' to 'zoom' into 'Control.Monad.Trans.Maybe.MaybeT' or 'Control.Monad.Trans.List.ListT'.</span></span><span>
</span><span id="line-180"></span><span class="hs-keyword">newtype</span><span> </span><span id="FocusingOn"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingOn"><span class="hs-identifier hs-var">FocusingOn</span></a></span></span><span> </span><span id="local-6989586621679042656"><span class="annot"><a href="#local-6989586621679042656"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679042657"><span class="annot"><a href="#local-6989586621679042657"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679042658"><span class="annot"><a href="#local-6989586621679042658"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679042659"><span class="annot"><a href="#local-6989586621679042659"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FocusingOn"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingOn"><span class="hs-identifier hs-var">FocusingOn</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unfocusingOn"><span class="annot"><span class="annottext">forall (f :: * -&gt; *) (k :: * -&gt; * -&gt; *) s a.
FocusingOn f k s a -&gt; k (f s) a
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusingOn"><span class="hs-identifier hs-var hs-var">unfocusingOn</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679042657"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042656"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042658"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042659"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042668"><span id="local-6989586621679042669"><span id="local-6989586621679042670"><span id="local-6989586621679043266"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042668"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042669"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042670"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingOn"><span class="hs-identifier hs-type">FocusingOn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042669"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042668"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042670"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-183"></span><span>  </span><span id="local-6989586621679043270"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; FocusingOn f k s a -&gt; FocusingOn f k s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679043271"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043271"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingOn"><span class="hs-identifier hs-type">FocusingOn</span></a></span><span> </span><span id="local-6989586621679043272"><span class="annot"><span class="annottext">k (f s) a
</span><a href="#local-6989586621679043272"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (f s) b -&gt; FocusingOn f k s b
forall (f :: * -&gt; *) (k :: * -&gt; * -&gt; *) s a.
k (f s) a -&gt; FocusingOn f k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingOn"><span class="hs-identifier hs-var">FocusingOn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; k (f s) a -&gt; k (f s) b
forall a b. (a -&gt; b) -&gt; k (f s) a -&gt; k (f s) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043271"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k (f s) a
</span><a href="#local-6989586621679043272"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fmap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042676"><span id="local-6989586621679042677"><span id="local-6989586621679042678"><span id="local-6989586621679043280"><span id="local-6989586621679043284"><span id="local-6989586621679043287"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042676"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042677"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042678"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingOn"><span class="hs-identifier hs-type">FocusingOn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042677"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042676"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042678"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-187"></span><span>  </span><span id="local-6989586621679043290"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; FocusingOn f k s a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (f s) a -&gt; FocusingOn f k s a
forall (f :: * -&gt; *) (k :: * -&gt; * -&gt; *) s a.
k (f s) a -&gt; FocusingOn f k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingOn"><span class="hs-identifier hs-var">FocusingOn</span></a></span><span> </span><span class="annot"><span class="annottext">(k (f s) a -&gt; FocusingOn f k s a)
-&gt; (a -&gt; k (f s) a) -&gt; a -&gt; FocusingOn f k s a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; k (f s) a
forall a. a -&gt; k (f s) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">pure</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-189"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingOn"><span class="hs-identifier hs-type">FocusingOn</span></a></span><span> </span><span id="local-6989586621679043292"><span class="annot"><span class="annottext">k (f s) (a -&gt; b)
</span><a href="#local-6989586621679043292"><span class="hs-identifier hs-var">kf</span></a></span></span><span> </span><span id="local-6989586621679043293"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b.
FocusingOn f k s (a -&gt; b)
-&gt; FocusingOn f k s a -&gt; FocusingOn f k s b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingOn"><span class="hs-identifier hs-type">FocusingOn</span></a></span><span> </span><span id="local-6989586621679043294"><span class="annot"><span class="annottext">k (f s) a
</span><a href="#local-6989586621679043294"><span class="hs-identifier hs-var">ka</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (f s) b -&gt; FocusingOn f k s b
forall (f :: * -&gt; *) (k :: * -&gt; * -&gt; *) s a.
k (f s) a -&gt; FocusingOn f k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingOn"><span class="hs-identifier hs-var">FocusingOn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k (f s) (a -&gt; b)
</span><a href="#local-6989586621679043292"><span class="hs-identifier hs-var">kf</span></a></span><span> </span><span class="annot"><span class="annottext">k (f s) (a -&gt; b) -&gt; k (f s) a -&gt; k (f s) b
forall a b. k (f s) (a -&gt; b) -&gt; k (f s) a -&gt; k (f s) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">k (f s) a
</span><a href="#local-6989586621679043294"><span class="hs-identifier hs-var">ka</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- May</span><span>
</span><span id="line-194"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="annot"><span class="hs-comment">-- | Make a 'Monoid' out of 'Maybe' for error handling.</span></span><span>
</span><span id="line-197"></span><span class="hs-keyword">newtype</span><span> </span><span id="May"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-var">May</span></a></span></span><span> </span><span id="local-6989586621679042682"><span class="annot"><a href="#local-6989586621679042682"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="May"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-var">May</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getMay"><span class="annot"><span class="annottext">forall a. May a -&gt; Maybe a
</span><a href="Lens.Micro.Mtl.Internal.html#getMay"><span class="hs-identifier hs-var hs-var">getMay</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679042682"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042687"><span id="local-6989586621679043304"><span id="local-6989586621679043308"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679042687"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-type">May</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042687"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-200"></span><span>  </span><span id="local-6989586621679043313"><span class="annot"><span class="annottext">mempty :: May a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; May a
forall a. Maybe a -&gt; May a
</span><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-var">May</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">mempty</span></span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#if !MIN_VERSION_base(4,11,0)
</span><span>  </span><span class="hs-identifier">May</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">mappend</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">May</span><span> </span><span class="hs-identifier">Nothing</span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">mappend</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">May</span><span> </span><span class="hs-identifier">Nothing</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">May</span><span> </span><span class="hs-identifier">Nothing</span><span>
</span><span id="line-205"></span><span>  </span><span class="hs-identifier">May</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">mappend</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">May</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">May</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mappend</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">mappend</span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#else
</span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042686"><span id="local-6989586621679043317"><span id="local-6989586621679043320"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679042686"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-type">May</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042686"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-209"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-type">May</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span id="local-6989586621679043326"><span class="annot"><span class="annottext">&lt;&gt; :: May a -&gt; May a -&gt; May a
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span class="annot"><span class="annottext">May a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; May a
forall a. Maybe a -&gt; May a
</span><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-var">May</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-210"></span><span>  </span><span class="annot"><span class="annottext">May a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-type">May</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; May a
forall a. Maybe a -&gt; May a
</span><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-var">May</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-211"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-type">May</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679043327"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043327"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-type">May</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679043328"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043328"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; May a
forall a. Maybe a -&gt; May a
</span><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-var">May</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043327"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043328"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-215"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- FocusingMay</span><span>
</span><span id="line-217"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="annot"><span class="hs-comment">-- | Used by 'Zoom' to 'zoom' into 'Control.Monad.Error.ErrorT'.</span></span><span>
</span><span id="line-220"></span><span class="hs-keyword">newtype</span><span> </span><span id="FocusingMay"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-var">FocusingMay</span></a></span></span><span> </span><span id="local-6989586621679042693"><span class="annot"><a href="#local-6989586621679042693"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679042694"><span class="annot"><a href="#local-6989586621679042694"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679042695"><span class="annot"><a href="#local-6989586621679042695"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FocusingMay"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-var">FocusingMay</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unfocusingMay"><span class="annot"><span class="annottext">forall (k :: * -&gt; * -&gt; *) s a. FocusingMay k s a -&gt; k (May s) a
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusingMay"><span class="hs-identifier hs-var hs-var">unfocusingMay</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679042693"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-type">May</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042694"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042695"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042702"><span id="local-6989586621679042703"><span id="local-6989586621679043334"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042702"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-type">May</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042703"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-type">FocusingMay</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042702"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042703"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-223"></span><span>  </span><span id="local-6989586621679043338"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; FocusingMay k s a -&gt; FocusingMay k s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679043339"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043339"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-type">FocusingMay</span></a></span><span> </span><span id="local-6989586621679043340"><span class="annot"><span class="annottext">k (May s) a
</span><a href="#local-6989586621679043340"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (May s) b -&gt; FocusingMay k s b
forall (k :: * -&gt; * -&gt; *) s a. k (May s) a -&gt; FocusingMay k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-var">FocusingMay</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; k (May s) a -&gt; k (May s) b
forall a b. (a -&gt; b) -&gt; k (May s) a -&gt; k (May s) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043339"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k (May s) a
</span><a href="#local-6989586621679043340"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fmap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042708"><span id="local-6989586621679042709"><span id="local-6989586621679043348"><span id="local-6989586621679043352"><span id="local-6989586621679043355"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042708"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-type">May</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042709"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-type">FocusingMay</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042708"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042709"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-227"></span><span>  </span><span id="local-6989586621679043358"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; FocusingMay k s a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (May s) a -&gt; FocusingMay k s a
forall (k :: * -&gt; * -&gt; *) s a. k (May s) a -&gt; FocusingMay k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-var">FocusingMay</span></a></span><span> </span><span class="annot"><span class="annottext">(k (May s) a -&gt; FocusingMay k s a)
-&gt; (a -&gt; k (May s) a) -&gt; a -&gt; FocusingMay k s a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; k (May s) a
forall a. a -&gt; k (May s) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">pure</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-229"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-type">FocusingMay</span></a></span><span> </span><span id="local-6989586621679043360"><span class="annot"><span class="annottext">k (May s) (a -&gt; b)
</span><a href="#local-6989586621679043360"><span class="hs-identifier hs-var">kf</span></a></span></span><span> </span><span id="local-6989586621679043361"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b.
FocusingMay k s (a -&gt; b) -&gt; FocusingMay k s a -&gt; FocusingMay k s b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-type">FocusingMay</span></a></span><span> </span><span id="local-6989586621679043362"><span class="annot"><span class="annottext">k (May s) a
</span><a href="#local-6989586621679043362"><span class="hs-identifier hs-var">ka</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (May s) b -&gt; FocusingMay k s b
forall (k :: * -&gt; * -&gt; *) s a. k (May s) a -&gt; FocusingMay k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-var">FocusingMay</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k (May s) (a -&gt; b)
</span><a href="#local-6989586621679043360"><span class="hs-identifier hs-var">kf</span></a></span><span> </span><span class="annot"><span class="annottext">k (May s) (a -&gt; b) -&gt; k (May s) a -&gt; k (May s) b
forall a b. k (May s) (a -&gt; b) -&gt; k (May s) a -&gt; k (May s) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">k (May s) a
</span><a href="#local-6989586621679043362"><span class="hs-identifier hs-var">ka</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- Err</span><span>
</span><span id="line-234"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="annot"><span class="hs-comment">-- | Make a 'Monoid' out of 'Either' for error handling.</span></span><span>
</span><span id="line-237"></span><span class="hs-keyword">newtype</span><span> </span><span id="Err"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-var">Err</span></a></span></span><span> </span><span id="local-6989586621679042713"><span class="annot"><a href="#local-6989586621679042713"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679042714"><span class="annot"><a href="#local-6989586621679042714"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Err"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-var">Err</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getErr"><span class="annot"><span class="annottext">forall e a. Err e a -&gt; Either e a
</span><a href="Lens.Micro.Mtl.Internal.html#getErr"><span class="hs-identifier hs-var hs-var">getErr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679042713"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042714"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042722"><span id="local-6989586621679042723"><span id="local-6989586621679043372"><span id="local-6989586621679043376"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679042722"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-type">Err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042723"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042722"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-240"></span><span>  </span><span id="local-6989586621679043379"><span class="annot"><span class="annottext">mempty :: Err e a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either e a -&gt; Err e a
forall e a. Either e a -&gt; Err e a
</span><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-var">Err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either e a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">mempty</span></span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#if !MIN_VERSION_base(4,11,0)
</span><span>  </span><span class="hs-identifier">Err</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Left</span><span> </span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">mappend</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Err</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Left</span><span> </span><span class="hs-identifier">e</span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">mappend</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">Err</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Left</span><span> </span><span class="hs-identifier">e</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Err</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Left</span><span> </span><span class="hs-identifier">e</span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-identifier">Err</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Right</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">mappend</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">Err</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Right</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Err</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Right</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">mappend</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">mappend</span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#else
</span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042720"><span id="local-6989586621679042721"><span id="local-6989586621679043383"><span id="local-6989586621679043386"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679042720"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-type">Err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042721"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042720"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-249"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-type">Err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679043391"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679043391"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679043392"><span class="annot"><span class="annottext">&lt;&gt; :: Err e a -&gt; Err e a -&gt; Err e a
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span class="annot"><span class="annottext">Err e a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either e a -&gt; Err e a
forall e a. Either e a -&gt; Err e a
</span><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-var">Err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e -&gt; Either e a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679043391"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>  </span><span class="annot"><span class="annottext">Err e a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-type">Err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679043393"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679043393"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either e a -&gt; Err e a
forall e a. Either e a -&gt; Err e a
</span><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-var">Err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e -&gt; Either e a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679043393"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-type">Err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679043394"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043394"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-type">Err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679043395"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043395"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either e a -&gt; Err e a
forall e a. Either e a -&gt; Err e a
</span><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-var">Err</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either e a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043394"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679043395"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-255"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-256"></span><span class="hs-comment">-- FocusingErr</span><span>
</span><span id="line-257"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span class="annot"><span class="hs-comment">-- | Used by 'Zoom' to 'zoom' into 'Control.Monad.Error.ErrorT'.</span></span><span>
</span><span id="line-260"></span><span class="hs-keyword">newtype</span><span> </span><span id="FocusingErr"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-var">FocusingErr</span></a></span></span><span> </span><span id="local-6989586621679042729"><span class="annot"><a href="#local-6989586621679042729"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679042730"><span class="annot"><a href="#local-6989586621679042730"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679042731"><span class="annot"><a href="#local-6989586621679042731"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679042732"><span class="annot"><a href="#local-6989586621679042732"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FocusingErr"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-var">FocusingErr</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unfocusingErr"><span class="annot"><span class="annottext">forall e (k :: * -&gt; * -&gt; *) s a.
FocusingErr e k s a -&gt; k (Err e s) a
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusingErr"><span class="hs-identifier hs-var hs-var">unfocusingErr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679042730"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-type">Err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042729"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042731"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042732"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042741"><span id="local-6989586621679042742"><span id="local-6989586621679042743"><span id="local-6989586621679043401"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042741"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-type">Err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042742"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042743"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-type">FocusingErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042742"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042741"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042743"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-263"></span><span>  </span><span id="local-6989586621679043405"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; FocusingErr e k s a -&gt; FocusingErr e k s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679043406"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043406"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-type">FocusingErr</span></a></span><span> </span><span id="local-6989586621679043407"><span class="annot"><span class="annottext">k (Err e s) a
</span><a href="#local-6989586621679043407"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (Err e s) b -&gt; FocusingErr e k s b
forall e (k :: * -&gt; * -&gt; *) s a.
k (Err e s) a -&gt; FocusingErr e k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-var">FocusingErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; k (Err e s) a -&gt; k (Err e s) b
forall a b. (a -&gt; b) -&gt; k (Err e s) a -&gt; k (Err e s) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679043406"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">k (Err e s) a
</span><a href="#local-6989586621679043407"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fmap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042749"><span id="local-6989586621679042750"><span id="local-6989586621679042751"><span id="local-6989586621679043415"><span id="local-6989586621679043419"><span id="local-6989586621679043422"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679042749"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-type">Err</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042750"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042751"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-type">FocusingErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042750"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042749"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042751"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-267"></span><span>  </span><span id="local-6989586621679043425"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; FocusingErr e k s a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (Err e s) a -&gt; FocusingErr e k s a
forall e (k :: * -&gt; * -&gt; *) s a.
k (Err e s) a -&gt; FocusingErr e k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-var">FocusingErr</span></a></span><span> </span><span class="annot"><span class="annottext">(k (Err e s) a -&gt; FocusingErr e k s a)
-&gt; (a -&gt; k (Err e s) a) -&gt; a -&gt; FocusingErr e k s a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; k (Err e s) a
forall a. a -&gt; k (Err e s) a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">pure</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-269"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-type">FocusingErr</span></a></span><span> </span><span id="local-6989586621679043427"><span class="annot"><span class="annottext">k (Err e s) (a -&gt; b)
</span><a href="#local-6989586621679043427"><span class="hs-identifier hs-var">kf</span></a></span></span><span> </span><span id="local-6989586621679043428"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b.
FocusingErr e k s (a -&gt; b)
-&gt; FocusingErr e k s a -&gt; FocusingErr e k s b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-type">FocusingErr</span></a></span><span> </span><span id="local-6989586621679043429"><span class="annot"><span class="annottext">k (Err e s) a
</span><a href="#local-6989586621679043429"><span class="hs-identifier hs-var">ka</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">k (Err e s) b -&gt; FocusingErr e k s b
forall e (k :: * -&gt; * -&gt; *) s a.
k (Err e s) a -&gt; FocusingErr e k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-var">FocusingErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k (Err e s) (a -&gt; b)
</span><a href="#local-6989586621679043427"><span class="hs-identifier hs-var">kf</span></a></span><span> </span><span class="annot"><span class="annottext">k (Err e s) (a -&gt; b) -&gt; k (Err e s) a -&gt; k (Err e s) b
forall a b. k (Err e s) (a -&gt; b) -&gt; k (Err e s) a -&gt; k (Err e s) b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">k (Err e s) a
</span><a href="#local-6989586621679043429"><span class="hs-identifier hs-var">ka</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- Zoom</span><span>
</span><span id="line-274"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">2</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-operator hs-type">`zoom`</span></a></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679042757"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042755"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679042758"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042756"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Zoom"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-var">Zoom</span></a></span></span><span> </span><span id="local-6989586621679042755"><span class="annot"><a href="#local-6989586621679042755"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679042756"><span class="annot"><a href="#local-6989586621679042756"><span class="hs-identifier hs-type">n</span></a></span></span><span> </span><span id="local-6989586621679042757"><span class="annot"><a href="#local-6989586621679042757"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679042758"><span class="annot"><a href="#local-6989586621679042758"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679042755"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042757"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042756"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042758"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042755"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042758"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042756"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042756"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042757"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042755"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-comment">{- |
When you're in a state monad, this function lets you operate on a part of your state. For instance, if your state was a record containing a @position@ field, after zooming @position@ would become your whole state (and when you modify it, the bigger structure would be modified as well).

(Your 'Lazy.State' \/ 'Lazy.StateT' or 'Lazy.RWS' \/ 'Lazy.RWST' can be anywhere in the stack, but you can't use 'zoom' with arbitrary 'MonadState' because it doesn't provide any methods to change the type of the state. See &lt;https://github.com/ekmett/lens/issues/316 this issue&gt; for details.)

For the sake of the example, let's define some types first:

@
data Position = Position {
  _x, _y :: Int }

data Player = Player {
  _position :: Position,
  ... }

data Game = Game {
  _player :: Player,
  _obstacles :: [Position],
  ... }

concat \&lt;$\&gt; mapM makeLenses [''Position, ''Player, ''Game]
@

Now, here's an action that moves the player north-east:

@
moveNE :: 'Lazy.State' Game ()
moveNE = do
  player.position.x 'Lens.Micro.Mtl.+=' 1
  player.position.y 'Lens.Micro.Mtl.+=' 1
@

With 'zoom', you can use @player.position@ to focus just on a part of the state:

@
moveNE :: 'Lazy.State' Game ()
moveNE = do
  'zoom' (player.position) $ do
    x 'Lens.Micro.Mtl.+=' 1
    y 'Lens.Micro.Mtl.+=' 1
@

You can just as well use it for retrieving things out of the state:

@
getCoords :: 'Lazy.State' Game (Int, Int)
getCoords = 'zoom' (player.position) ((,) '&lt;$&gt;' 'Lens.Micro.Mtl.use' x '&lt;*&gt;' 'Lens.Micro.Mtl.use' y)
@

Or more explicitly:

@
getCoords = 'zoom' (player.position) $ do
  x' &lt;- 'Lens.Micro.Mtl.use' x
  y' &lt;- 'Lens.Micro.Mtl.use' y
  return (x', y')
@

When you pass a traversal to 'zoom', it'll work as a loop. For instance, here we move all obstacles:

@
moveObstaclesNE :: 'Lazy.State' Game ()
moveObstaclesNE = do
  'zoom' (obstacles.'each') $ do
    x 'Lens.Micro.Mtl.+=' 1
    y 'Lens.Micro.Mtl.+=' 1
@

If the action returns a result, all results would be combined with '&lt;&gt;' &#8211; the same way they're combined when '^.' is passed a traversal. In this example, @moveObstaclesNE@ returns a list of old coordinates of obstacles in addition to moving them:

@
moveObstaclesNE = do
  xys &lt;- 'zoom' (obstacles.'each') $ do
    -- Get old coordinates.
    x' &lt;- 'Lens.Micro.Mtl.use' x
    y' &lt;- 'Lens.Micro.Mtl.use' y
    -- Update them.
    x 'Lens.Micro.Mtl..=' x' + 1
    y 'Lens.Micro.Mtl..=' y' + 1
    -- Return a single-element list with old coordinates.
    return [(x', y')]
  ...
@

Finally, you might need to write your own instances of 'Zoom' if you use @newtype@d transformers in your monad stack. This can be done as follows:

@
import &quot;Lens.Micro.Mtl.Internal&quot;

type instance 'Zoomed' (MyStateT s m) = 'Zoomed' (StateT s m)

instance Monad m =\&gt; 'Zoom' (MyStateT s m) (MyStateT t m) s t where
    'zoom' l (MyStateT m) = MyStateT ('zoom' l m)
@
  -}</span><span>
</span><span id="line-374"></span><span>  </span><span id="zoom"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-type">zoom</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679042765"><span class="annot"><span class="hs-identifier hs-type">LensLike'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoomed"><span class="hs-identifier hs-type">Zoomed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042755"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042765"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042758"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042757"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042755"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042765"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042756"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042765"><span class="hs-identifier hs-type">c</span></a></span></span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042770"><span id="local-6989586621679042771"><span id="local-6989586621679042772"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679042770"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042771"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042770"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042772"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042770"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042771"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042772"><span class="hs-identifier hs-type">t</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-377"></span><span>  </span><span id="local-6989586621679043443"><span class="annot"><span class="annottext">zoom :: forall c.
LensLike' (Zoomed (StateT s z) c) t s
-&gt; StateT s z c -&gt; StateT t z c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var hs-var hs-var hs-var">zoom</span></a></span></span><span> </span><span id="local-6989586621679043444"><span class="annot"><span class="annottext">LensLike' (Zoomed (StateT s z) c) t s
</span><a href="#local-6989586621679043444"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.StateT</span></span><span> </span><span id="local-6989586621679043446"><span class="annot"><span class="annottext">s -&gt; z (c, s)
</span><a href="#local-6989586621679043446"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(t -&gt; z (c, t)) -&gt; StateT t z c
forall s (m :: * -&gt; *) a. (s -&gt; m (a, s)) -&gt; StateT s m a
</span><span class="hs-identifier hs-var">Strict.StateT</span></span><span> </span><span class="annot"><span class="annottext">((t -&gt; z (c, t)) -&gt; StateT t z c)
-&gt; (t -&gt; z (c, t)) -&gt; StateT t z c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Focusing z c t -&gt; z (c, t)
forall (m :: * -&gt; *) s a. Focusing m s a -&gt; m (s, a)
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusing"><span class="hs-identifier hs-var">unfocusing</span></a></span><span> </span><span class="annot"><span class="annottext">(Focusing z c t -&gt; z (c, t))
-&gt; (t -&gt; Focusing z c t) -&gt; t -&gt; z (c, t)
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed (StateT s z) c) t s
</span><a href="#local-6989586621679043444"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">z (c, s) -&gt; Focusing z c s
forall (m :: * -&gt; *) s a. m (s, a) -&gt; Focusing m s a
</span><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-var">Focusing</span></a></span><span> </span><span class="annot"><span class="annottext">(z (c, s) -&gt; Focusing z c s)
-&gt; (s -&gt; z (c, s)) -&gt; s -&gt; Focusing z c s
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; z (c, s)
</span><a href="#local-6989586621679043446"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-pragma hs-type">zoom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042788"><span id="local-6989586621679042789"><span id="local-6989586621679042790"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679042788"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042789"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042788"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042790"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042788"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042789"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042790"><span class="hs-identifier hs-type">t</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-381"></span><span>  </span><span id="local-6989586621679043458"><span class="annot"><span class="annottext">zoom :: forall c.
LensLike' (Zoomed (StateT s z) c) t s
-&gt; StateT s z c -&gt; StateT t z c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var hs-var hs-var hs-var">zoom</span></a></span></span><span> </span><span id="local-6989586621679043459"><span class="annot"><span class="annottext">LensLike' (Zoomed (StateT s z) c) t s
</span><a href="#local-6989586621679043459"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.StateT</span></span><span> </span><span id="local-6989586621679043461"><span class="annot"><span class="annottext">s -&gt; z (c, s)
</span><a href="#local-6989586621679043461"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(t -&gt; z (c, t)) -&gt; StateT t z c
forall s (m :: * -&gt; *) a. (s -&gt; m (a, s)) -&gt; StateT s m a
</span><span class="hs-identifier hs-var">Lazy.StateT</span></span><span> </span><span class="annot"><span class="annottext">((t -&gt; z (c, t)) -&gt; StateT t z c)
-&gt; (t -&gt; z (c, t)) -&gt; StateT t z c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Focusing z c t -&gt; z (c, t)
forall (m :: * -&gt; *) s a. Focusing m s a -&gt; m (s, a)
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusing"><span class="hs-identifier hs-var">unfocusing</span></a></span><span> </span><span class="annot"><span class="annottext">(Focusing z c t -&gt; z (c, t))
-&gt; (t -&gt; Focusing z c t) -&gt; t -&gt; z (c, t)
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed (StateT s z) c) t s
</span><a href="#local-6989586621679043459"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">z (c, s) -&gt; Focusing z c s
forall (m :: * -&gt; *) s a. m (s, a) -&gt; Focusing m s a
</span><a href="Lens.Micro.Mtl.Internal.html#Focusing"><span class="hs-identifier hs-var">Focusing</span></a></span><span> </span><span class="annot"><span class="annottext">(z (c, s) -&gt; Focusing z c s)
-&gt; (s -&gt; z (c, s)) -&gt; s -&gt; Focusing z c s
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; z (c, s)
</span><a href="#local-6989586621679043461"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-pragma hs-type">zoom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042804"><span id="local-6989586621679042805"><span id="local-6989586621679042806"><span id="local-6989586621679042807"><span id="local-6989586621679042808"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042804"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042805"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042806"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042807"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042808"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042804"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042808"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042805"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042806"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042807"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-385"></span><span>  </span><span id="local-6989586621679043473"><span class="annot"><span class="annottext">zoom :: forall c.
LensLike' (Zoomed (ReaderT e m) c) t s
-&gt; ReaderT e m c -&gt; ReaderT e n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var hs-var hs-var hs-var">zoom</span></a></span></span><span> </span><span id="local-6989586621679043474"><span class="annot"><span class="annottext">LensLike' (Zoomed (ReaderT e m) c) t s
</span><a href="#local-6989586621679043474"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span id="local-6989586621679043476"><span class="annot"><span class="annottext">e -&gt; m c
</span><a href="#local-6989586621679043476"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(e -&gt; n c) -&gt; ReaderT e n c
forall r (m :: * -&gt; *) a. (r -&gt; m a) -&gt; ReaderT r m a
</span><span class="hs-identifier hs-var">ReaderT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
forall c. LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
forall (m :: * -&gt; *) (n :: * -&gt; *) s t c.
Zoom m n s t =&gt;
LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var">zoom</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed m c) t s
LensLike' (Zoomed (ReaderT e m) c) t s
</span><a href="#local-6989586621679043474"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(m c -&gt; n c) -&gt; (e -&gt; m c) -&gt; e -&gt; n c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; m c
</span><a href="#local-6989586621679043476"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-pragma hs-type">zoom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042820"><span id="local-6989586621679042821"><span id="local-6989586621679042822"><span id="local-6989586621679042823"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042820"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042821"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042822"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042823"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042820"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042821"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042822"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042823"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-389"></span><span>  </span><span id="local-6989586621679043488"><span class="annot"><span class="annottext">zoom :: forall c.
LensLike' (Zoomed (IdentityT m) c) t s
-&gt; IdentityT m c -&gt; IdentityT n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var hs-var hs-var hs-var">zoom</span></a></span></span><span> </span><span id="local-6989586621679043489"><span class="annot"><span class="annottext">LensLike' (Zoomed (IdentityT m) c) t s
</span><a href="#local-6989586621679043489"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span id="local-6989586621679043491"><span class="annot"><span class="annottext">m c
</span><a href="#local-6989586621679043491"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">n c -&gt; IdentityT n c
forall {k} (f :: k -&gt; *) (a :: k). f a -&gt; IdentityT f a
</span><span class="hs-identifier hs-var">IdentityT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
forall c. LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
forall (m :: * -&gt; *) (n :: * -&gt; *) s t c.
Zoom m n s t =&gt;
LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var">zoom</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed m c) t s
LensLike' (Zoomed (IdentityT m) c) t s
</span><a href="#local-6989586621679043489"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">m c
</span><a href="#local-6989586621679043491"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-pragma hs-type">zoom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042838"><span id="local-6989586621679042839"><span id="local-6989586621679042840"><span id="local-6989586621679042841"><span id="local-6989586621679042842"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679042838"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679042839"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679042840"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042838"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042841"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042839"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679042840"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042838"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042842"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042839"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042841"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042842"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-393"></span><span>  </span><span id="local-6989586621679043503"><span class="annot"><span class="annottext">zoom :: forall c.
LensLike' (Zoomed (RWST r w s z) c) t s
-&gt; RWST r w s z c -&gt; RWST r w t z c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var hs-var hs-var hs-var">zoom</span></a></span></span><span> </span><span id="local-6989586621679043504"><span class="annot"><span class="annottext">LensLike' (Zoomed (RWST r w s z) c) t s
</span><a href="#local-6989586621679043504"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.RWST</span></span><span> </span><span id="local-6989586621679043506"><span class="annot"><span class="annottext">r -&gt; s -&gt; z (c, s, w)
</span><a href="#local-6989586621679043506"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; t -&gt; z (c, t, w)) -&gt; RWST r w t z c
forall r w s (m :: * -&gt; *) a.
(r -&gt; s -&gt; m (a, s, w)) -&gt; RWST r w s m a
</span><span class="hs-identifier hs-var">Strict.RWST</span></span><span> </span><span class="annot"><span class="annottext">((r -&gt; t -&gt; z (c, t, w)) -&gt; RWST r w t z c)
-&gt; (r -&gt; t -&gt; z (c, t, w)) -&gt; RWST r w t z c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679043507"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679043507"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FocusingWith w z c t -&gt; z (c, t, w)
forall w (m :: * -&gt; *) s a. FocusingWith w m s a -&gt; m (s, a, w)
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusingWith"><span class="hs-identifier hs-var">unfocusingWith</span></a></span><span> </span><span class="annot"><span class="annottext">(FocusingWith w z c t -&gt; z (c, t, w))
-&gt; (t -&gt; FocusingWith w z c t) -&gt; t -&gt; z (c, t, w)
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed (RWST r w s z) c) t s
</span><a href="#local-6989586621679043504"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">z (c, s, w) -&gt; FocusingWith w z c s
forall w (m :: * -&gt; *) s a. m (s, a, w) -&gt; FocusingWith w m s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-var">FocusingWith</span></a></span><span> </span><span class="annot"><span class="annottext">(z (c, s, w) -&gt; FocusingWith w z c s)
-&gt; (s -&gt; z (c, s, w)) -&gt; s -&gt; FocusingWith w z c s
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; s -&gt; z (c, s, w)
</span><a href="#local-6989586621679043506"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679043507"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-pragma hs-type">zoom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042859"><span id="local-6989586621679042860"><span id="local-6989586621679042861"><span id="local-6989586621679042862"><span id="local-6989586621679042863"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679042859"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679042860"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679042861"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042859"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042862"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042860"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679042861"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042859"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042863"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042860"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042862"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042863"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-397"></span><span>  </span><span id="local-6989586621679043519"><span class="annot"><span class="annottext">zoom :: forall c.
LensLike' (Zoomed (RWST r w s z) c) t s
-&gt; RWST r w s z c -&gt; RWST r w t z c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var hs-var hs-var hs-var">zoom</span></a></span></span><span> </span><span id="local-6989586621679043520"><span class="annot"><span class="annottext">LensLike' (Zoomed (RWST r w s z) c) t s
</span><a href="#local-6989586621679043520"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.RWST</span></span><span> </span><span id="local-6989586621679043522"><span class="annot"><span class="annottext">r -&gt; s -&gt; z (c, s, w)
</span><a href="#local-6989586621679043522"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; t -&gt; z (c, t, w)) -&gt; RWST r w t z c
forall r w s (m :: * -&gt; *) a.
(r -&gt; s -&gt; m (a, s, w)) -&gt; RWST r w s m a
</span><span class="hs-identifier hs-var">Lazy.RWST</span></span><span> </span><span class="annot"><span class="annottext">((r -&gt; t -&gt; z (c, t, w)) -&gt; RWST r w t z c)
-&gt; (r -&gt; t -&gt; z (c, t, w)) -&gt; RWST r w t z c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679043523"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679043523"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FocusingWith w z c t -&gt; z (c, t, w)
forall w (m :: * -&gt; *) s a. FocusingWith w m s a -&gt; m (s, a, w)
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusingWith"><span class="hs-identifier hs-var">unfocusingWith</span></a></span><span> </span><span class="annot"><span class="annottext">(FocusingWith w z c t -&gt; z (c, t, w))
-&gt; (t -&gt; FocusingWith w z c t) -&gt; t -&gt; z (c, t, w)
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed (RWST r w s z) c) t s
</span><a href="#local-6989586621679043520"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">z (c, s, w) -&gt; FocusingWith w z c s
forall w (m :: * -&gt; *) s a. m (s, a, w) -&gt; FocusingWith w m s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingWith"><span class="hs-identifier hs-var">FocusingWith</span></a></span><span> </span><span class="annot"><span class="annottext">(z (c, s, w) -&gt; FocusingWith w z c s)
-&gt; (s -&gt; z (c, s, w)) -&gt; s -&gt; FocusingWith w z c s
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; s -&gt; z (c, s, w)
</span><a href="#local-6989586621679043522"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679043523"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-398"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-pragma hs-type">zoom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042879"><span id="local-6989586621679042880"><span id="local-6989586621679042881"><span id="local-6989586621679042882"><span id="local-6989586621679042883"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679042879"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042880"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042881"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042882"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042883"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042879"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042880"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042879"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042881"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042882"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042883"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-401"></span><span>  </span><span id="local-6989586621679043538"><span class="annot"><span class="annottext">zoom :: forall c.
LensLike' (Zoomed (WriterT w m) c) t s
-&gt; WriterT w m c -&gt; WriterT w n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var hs-var hs-var hs-var">zoom</span></a></span></span><span> </span><span id="local-6989586621679043539"><span class="annot"><span class="annottext">LensLike' (Zoomed (WriterT w m) c) t s
</span><a href="#local-6989586621679043539"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">n (c, w) -&gt; WriterT w n c
forall w (m :: * -&gt; *) a. m (a, w) -&gt; WriterT w m a
</span><span class="hs-identifier hs-var">Strict.WriterT</span></span><span> </span><span class="annot"><span class="annottext">(n (c, w) -&gt; WriterT w n c)
-&gt; (WriterT w m c -&gt; n (c, w)) -&gt; WriterT w m c -&gt; WriterT w n c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed m (c, w)) t s -&gt; m (c, w) -&gt; n (c, w)
forall c. LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
forall (m :: * -&gt; *) (n :: * -&gt; *) s t c.
Zoom m n s t =&gt;
LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var">zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679043541"><span class="annot"><span class="annottext">s -&gt; Zoomed m (c, w) s
</span><a href="#local-6989586621679043541"><span class="hs-identifier hs-var">afb</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FocusingPlus w (Zoomed m) c t -&gt; Zoomed m (c, w) t
forall w (k :: * -&gt; * -&gt; *) s a. FocusingPlus w k s a -&gt; k (s, w) a
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusingPlus"><span class="hs-identifier hs-var">unfocusingPlus</span></a></span><span> </span><span class="annot"><span class="annottext">(FocusingPlus w (Zoomed m) c t -&gt; Zoomed m (c, w) t)
-&gt; (t -&gt; FocusingPlus w (Zoomed m) c t) -&gt; t -&gt; Zoomed m (c, w) t
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed (WriterT w m) c) t s
</span><a href="#local-6989586621679043539"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Zoomed m (c, w) s -&gt; FocusingPlus w (Zoomed m) c s
forall w (k :: * -&gt; * -&gt; *) s a. k (s, w) a -&gt; FocusingPlus w k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-var">FocusingPlus</span></a></span><span> </span><span class="annot"><span class="annottext">(Zoomed m (c, w) s -&gt; FocusingPlus w (Zoomed m) c s)
-&gt; (s -&gt; Zoomed m (c, w) s) -&gt; s -&gt; FocusingPlus w (Zoomed m) c s
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; Zoomed m (c, w) s
</span><a href="#local-6989586621679043541"><span class="hs-identifier hs-var">afb</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m (c, w) -&gt; n (c, w))
-&gt; (WriterT w m c -&gt; m (c, w)) -&gt; WriterT w m c -&gt; n (c, w)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">WriterT w m c -&gt; m (c, w)
forall w (m :: * -&gt; *) a. WriterT w m a -&gt; m (a, w)
</span><span class="hs-identifier hs-var">Strict.runWriterT</span></span><span>
</span><span id="line-402"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-pragma hs-type">zoom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042900"><span id="local-6989586621679042901"><span id="local-6989586621679042902"><span id="local-6989586621679042903"><span id="local-6989586621679042904"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679042900"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042901"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042902"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042903"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042904"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042900"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042901"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.WriterT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042900"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042902"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042903"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042904"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-405"></span><span>  </span><span id="local-6989586621679043557"><span class="annot"><span class="annottext">zoom :: forall c.
LensLike' (Zoomed (WriterT w m) c) t s
-&gt; WriterT w m c -&gt; WriterT w n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var hs-var hs-var hs-var">zoom</span></a></span></span><span> </span><span id="local-6989586621679043558"><span class="annot"><span class="annottext">LensLike' (Zoomed (WriterT w m) c) t s
</span><a href="#local-6989586621679043558"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">n (c, w) -&gt; WriterT w n c
forall w (m :: * -&gt; *) a. m (a, w) -&gt; WriterT w m a
</span><span class="hs-identifier hs-var">Lazy.WriterT</span></span><span> </span><span class="annot"><span class="annottext">(n (c, w) -&gt; WriterT w n c)
-&gt; (WriterT w m c -&gt; n (c, w)) -&gt; WriterT w m c -&gt; WriterT w n c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed m (c, w)) t s -&gt; m (c, w) -&gt; n (c, w)
forall c. LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
forall (m :: * -&gt; *) (n :: * -&gt; *) s t c.
Zoom m n s t =&gt;
LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var">zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679043560"><span class="annot"><span class="annottext">s -&gt; Zoomed m (c, w) s
</span><a href="#local-6989586621679043560"><span class="hs-identifier hs-var">afb</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FocusingPlus w (Zoomed m) c t -&gt; Zoomed m (c, w) t
forall w (k :: * -&gt; * -&gt; *) s a. FocusingPlus w k s a -&gt; k (s, w) a
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusingPlus"><span class="hs-identifier hs-var">unfocusingPlus</span></a></span><span> </span><span class="annot"><span class="annottext">(FocusingPlus w (Zoomed m) c t -&gt; Zoomed m (c, w) t)
-&gt; (t -&gt; FocusingPlus w (Zoomed m) c t) -&gt; t -&gt; Zoomed m (c, w) t
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed (WriterT w m) c) t s
</span><a href="#local-6989586621679043558"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Zoomed m (c, w) s -&gt; FocusingPlus w (Zoomed m) c s
forall w (k :: * -&gt; * -&gt; *) s a. k (s, w) a -&gt; FocusingPlus w k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingPlus"><span class="hs-identifier hs-var">FocusingPlus</span></a></span><span> </span><span class="annot"><span class="annottext">(Zoomed m (c, w) s -&gt; FocusingPlus w (Zoomed m) c s)
-&gt; (s -&gt; Zoomed m (c, w) s) -&gt; s -&gt; FocusingPlus w (Zoomed m) c s
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; Zoomed m (c, w) s
</span><a href="#local-6989586621679043560"><span class="hs-identifier hs-var">afb</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m (c, w) -&gt; n (c, w))
-&gt; (WriterT w m c -&gt; m (c, w)) -&gt; WriterT w m c -&gt; n (c, w)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">WriterT w m c -&gt; m (c, w)
forall w (m :: * -&gt; *) a. WriterT w m a -&gt; m (a, w)
</span><span class="hs-identifier hs-var">Lazy.runWriterT</span></span><span>
</span><span id="line-406"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-pragma hs-type">zoom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">

#if !MIN_VERSION_mtl(2, 3, 0) &amp;&amp; !MIN_VERSION_transformers(0, 6, 0)
</span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Zoom</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Zoom</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ListT</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ListT</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-410"></span><span>  </span><span class="hs-identifier">zoom</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ListT</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">zoom</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">afb</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">unfocusingOn</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">FocusingOn</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">afb</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">runListT</span><span>
</span><span id="line-411"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">zoom</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Error</span><span> </span><span class="hs-identifier">e</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Zoom</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Zoom</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ErrorT</span><span> </span><span class="hs-identifier">e</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ErrorT</span><span> </span><span class="hs-identifier">e</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">t</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-414"></span><span>  </span><span class="hs-identifier">zoom</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ErrorT</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">liftM</span><span> </span><span class="hs-identifier">getErr</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">zoom</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">afb</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">unfocusingErr</span><span> </span><span class="hs-operator">#.</span><span> </span><span class="hs-identifier">l</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">FocusingErr</span><span> </span><span class="hs-operator">#.</span><span> </span><span class="hs-identifier">afb</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">liftM</span><span> </span><span class="hs-identifier">Err</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">runErrorT</span><span>
</span><span id="line-415"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">zoom</span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-418"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042921"><span id="local-6989586621679042922"><span id="local-6989586621679042923"><span id="local-6989586621679042924"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042921"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042922"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042923"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042924"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MaybeT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042921"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MaybeT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042922"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042923"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042924"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-419"></span><span>  </span><span id="local-6989586621679043580"><span class="annot"><span class="annottext">zoom :: forall c.
LensLike' (Zoomed (MaybeT m) c) t s -&gt; MaybeT m c -&gt; MaybeT n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var hs-var hs-var hs-var">zoom</span></a></span></span><span> </span><span id="local-6989586621679043581"><span class="annot"><span class="annottext">LensLike' (Zoomed (MaybeT m) c) t s
</span><a href="#local-6989586621679043581"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">n (Maybe c) -&gt; MaybeT n c
forall (m :: * -&gt; *) a. m (Maybe a) -&gt; MaybeT m a
</span><span class="hs-identifier hs-var">MaybeT</span></span><span> </span><span class="annot"><span class="annottext">(n (Maybe c) -&gt; MaybeT n c)
-&gt; (MaybeT m c -&gt; n (Maybe c)) -&gt; MaybeT m c -&gt; MaybeT n c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(May c -&gt; Maybe c) -&gt; n (May c) -&gt; n (Maybe c)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">May c -&gt; Maybe c
forall a. May a -&gt; Maybe a
</span><a href="Lens.Micro.Mtl.Internal.html#getMay"><span class="hs-identifier hs-var">getMay</span></a></span><span> </span><span class="annot"><span class="annottext">(n (May c) -&gt; n (Maybe c))
-&gt; (MaybeT m c -&gt; n (May c)) -&gt; MaybeT m c -&gt; n (Maybe c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed m (May c)) t s -&gt; m (May c) -&gt; n (May c)
forall c. LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
forall (m :: * -&gt; *) (n :: * -&gt; *) s t c.
Zoom m n s t =&gt;
LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var">zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679043582"><span class="annot"><span class="annottext">s -&gt; Zoomed m (May c) s
</span><a href="#local-6989586621679043582"><span class="hs-identifier hs-var">afb</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FocusingMay (Zoomed m) c t -&gt; Zoomed m (May c) t
forall (k :: * -&gt; * -&gt; *) s a. FocusingMay k s a -&gt; k (May s) a
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusingMay"><span class="hs-identifier hs-var">unfocusingMay</span></a></span><span> </span><span class="annot"><span class="annottext">(FocusingMay (Zoomed m) c t -&gt; Zoomed m (May c) t)
-&gt; (t -&gt; FocusingMay (Zoomed m) c t) -&gt; t -&gt; Zoomed m (May c) t
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed (MaybeT m) c) t s
</span><a href="#local-6989586621679043581"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Zoomed m (May c) s -&gt; FocusingMay (Zoomed m) c s
forall (k :: * -&gt; * -&gt; *) s a. k (May s) a -&gt; FocusingMay k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingMay"><span class="hs-identifier hs-var">FocusingMay</span></a></span><span> </span><span class="annot"><span class="annottext">(Zoomed m (May c) s -&gt; FocusingMay (Zoomed m) c s)
-&gt; (s -&gt; Zoomed m (May c) s) -&gt; s -&gt; FocusingMay (Zoomed m) c s
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; Zoomed m (May c) s
</span><a href="#local-6989586621679043582"><span class="hs-identifier hs-var">afb</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m (May c) -&gt; n (May c))
-&gt; (MaybeT m c -&gt; m (May c)) -&gt; MaybeT m c -&gt; n (May c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe c -&gt; May c) -&gt; m (Maybe c) -&gt; m (May c)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">Maybe c -&gt; May c
forall a. Maybe a -&gt; May a
</span><a href="Lens.Micro.Mtl.Internal.html#May"><span class="hs-identifier hs-var">May</span></a></span><span> </span><span class="annot"><span class="annottext">(m (Maybe c) -&gt; m (May c))
-&gt; (MaybeT m c -&gt; m (Maybe c)) -&gt; MaybeT m c -&gt; m (May c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">MaybeT m c -&gt; m (Maybe c)
forall (m :: * -&gt; *) a. MaybeT m a -&gt; m (Maybe a)
</span><span class="hs-identifier hs-var">runMaybeT</span></span><span>
</span><span id="line-420"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-pragma hs-type">zoom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042942"><span id="local-6989586621679042943"><span id="local-6989586621679042944"><span id="local-6989586621679042945"><span id="local-6989586621679042946"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042942"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042943"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042944"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042945"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Zoom"><span class="hs-identifier hs-type">Zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042946"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042942"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042946"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042943"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042944"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042945"><span class="hs-identifier hs-type">t</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-423"></span><span>  </span><span id="local-6989586621679043601"><span class="annot"><span class="annottext">zoom :: forall c.
LensLike' (Zoomed (ExceptT e m) c) t s
-&gt; ExceptT e m c -&gt; ExceptT e n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var hs-var hs-var hs-var">zoom</span></a></span></span><span> </span><span id="local-6989586621679043602"><span class="annot"><span class="annottext">LensLike' (Zoomed (ExceptT e m) c) t s
</span><a href="#local-6989586621679043602"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">n (Either e c) -&gt; ExceptT e n c
forall e (m :: * -&gt; *) a. m (Either e a) -&gt; ExceptT e m a
</span><span class="hs-identifier hs-var">ExceptT</span></span><span> </span><span class="annot"><span class="annottext">(n (Either e c) -&gt; ExceptT e n c)
-&gt; (ExceptT e m c -&gt; n (Either e c))
-&gt; ExceptT e m c
-&gt; ExceptT e n c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Err e c -&gt; Either e c) -&gt; n (Err e c) -&gt; n (Either e c)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">Err e c -&gt; Either e c
forall e a. Err e a -&gt; Either e a
</span><a href="Lens.Micro.Mtl.Internal.html#getErr"><span class="hs-identifier hs-var">getErr</span></a></span><span> </span><span class="annot"><span class="annottext">(n (Err e c) -&gt; n (Either e c))
-&gt; (ExceptT e m c -&gt; n (Err e c))
-&gt; ExceptT e m c
-&gt; n (Either e c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed m (Err e c)) t s -&gt; m (Err e c) -&gt; n (Err e c)
forall c. LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
forall (m :: * -&gt; *) (n :: * -&gt; *) s t c.
Zoom m n s t =&gt;
LensLike' (Zoomed m c) t s -&gt; m c -&gt; n c
</span><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-identifier hs-var">zoom</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679043604"><span class="annot"><span class="annottext">s -&gt; Zoomed m (Err e c) s
</span><a href="#local-6989586621679043604"><span class="hs-identifier hs-var">afb</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FocusingErr e (Zoomed m) c t -&gt; Zoomed m (Err e c) t
forall e (k :: * -&gt; * -&gt; *) s a.
FocusingErr e k s a -&gt; k (Err e s) a
</span><a href="Lens.Micro.Mtl.Internal.html#unfocusingErr"><span class="hs-identifier hs-var">unfocusingErr</span></a></span><span> </span><span class="annot"><span class="annottext">(FocusingErr e (Zoomed m) c t -&gt; Zoomed m (Err e c) t)
-&gt; (t -&gt; FocusingErr e (Zoomed m) c t) -&gt; t -&gt; Zoomed m (Err e c) t
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Zoomed (ExceptT e m) c) t s
</span><a href="#local-6989586621679043602"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Zoomed m (Err e c) s -&gt; FocusingErr e (Zoomed m) c s
forall e (k :: * -&gt; * -&gt; *) s a.
k (Err e s) a -&gt; FocusingErr e k s a
</span><a href="Lens.Micro.Mtl.Internal.html#FocusingErr"><span class="hs-identifier hs-var">FocusingErr</span></a></span><span> </span><span class="annot"><span class="annottext">(Zoomed m (Err e c) s -&gt; FocusingErr e (Zoomed m) c s)
-&gt; (s -&gt; Zoomed m (Err e c) s) -&gt; s -&gt; FocusingErr e (Zoomed m) c s
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; Zoomed m (Err e c) s
</span><a href="#local-6989586621679043604"><span class="hs-identifier hs-var">afb</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m (Err e c) -&gt; n (Err e c))
-&gt; (ExceptT e m c -&gt; m (Err e c)) -&gt; ExceptT e m c -&gt; n (Err e c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Either e c -&gt; Err e c) -&gt; m (Either e c) -&gt; m (Err e c)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">Either e c -&gt; Err e c
forall e a. Either e a -&gt; Err e a
</span><a href="Lens.Micro.Mtl.Internal.html#Err"><span class="hs-identifier hs-var">Err</span></a></span><span> </span><span class="annot"><span class="annottext">(m (Either e c) -&gt; m (Err e c))
-&gt; (ExceptT e m c -&gt; m (Either e c))
-&gt; ExceptT e m c
-&gt; m (Err e c)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ExceptT e m c -&gt; m (Either e c)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><span class="hs-identifier hs-var">runExceptT</span></span><span>
</span><span id="line-424"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#zoom"><span class="hs-pragma hs-type">zoom</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="hs-comment">-- TODO: instance Zoom m m a a =&gt; Zoom (ContT r m) (ContT r m) a a where</span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-429"></span><span class="hs-comment">-- Magnified</span><span>
</span><span id="line-430"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span class="annot"><span class="hs-comment">-- | This type family is used by 'Magnify' to describe the common effect type.</span></span><span class="hs-cpp">
#if MIN_VERSION_base(4,9,0)
</span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="Magnified"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnified"><span class="hs-identifier hs-var">Magnified</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679043606"><span class="annot"><a href="#local-6989586621679043606"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-cpp">
#else
</span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span class="hs-identifier">Magnified</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator">*</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator">*</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-operator">*</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Magnified"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnified"><span class="hs-identifier hs-var">Magnified</span></a></span></span><span> </span><span id="local-6989586621679043607"><span id="local-6989586621679043608"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043607"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043608"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043608"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-439"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Magnified"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnified"><span class="hs-identifier hs-var">Magnified</span></a></span></span><span> </span><span id="local-6989586621679043609"><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span class="annot"><a href="#local-6989586621679043609"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Const</span></span><span>
</span><span id="line-440"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Magnified"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnified"><span class="hs-identifier hs-var">Magnified</span></a></span></span><span> </span><span id="local-6989586621679043610"><span id="local-6989586621679043611"><span id="local-6989586621679043612"><span id="local-6989586621679043613"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679043610"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043611"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043612"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043613"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-type">EffectRWS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043611"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043612"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043613"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-441"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Magnified"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnified"><span class="hs-identifier hs-var">Magnified</span></a></span></span><span> </span><span id="local-6989586621679043614"><span id="local-6989586621679043615"><span id="local-6989586621679043616"><span id="local-6989586621679043617"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679043614"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043615"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043616"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043617"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-type">EffectRWS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043615"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043616"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043617"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-442"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="Magnified"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnified"><span class="hs-identifier hs-var">Magnified</span></a></span></span><span> </span><span id="local-6989586621679043618"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043618"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnified"><span class="hs-identifier hs-type">Magnified</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043618"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-445"></span><span class="hs-comment">-- Magnify</span><span>
</span><span id="line-446"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">2</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-operator hs-type">`magnify`</span></a></span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="#local-6989586621679042956"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042954"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="#local-6989586621679042957"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042955"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Magnify"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnify"><span class="hs-identifier hs-var">Magnify</span></a></span></span><span> </span><span id="local-6989586621679042954"><span class="annot"><a href="#local-6989586621679042954"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679042955"><span class="annot"><a href="#local-6989586621679042955"><span class="hs-identifier hs-type">n</span></a></span></span><span> </span><span id="local-6989586621679042956"><span class="annot"><a href="#local-6989586621679042956"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span id="local-6989586621679042957"><span class="annot"><a href="#local-6989586621679042957"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621679042954"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042956"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042955"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042957"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042954"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042957"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042955"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679042955"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042956"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042954"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-451"></span><span>  </span><span class="hs-comment">{- |
This is an equivalent of 'Reader.local' which lets you apply a getter to your environment instead of merely applying a function (and it also lets you change the type of the environment).

@
'Reader.local'   :: (r -&gt; r)   -&gt; 'Reader.Reader' r a -&gt; 'Reader.Reader' r a
'magnify' :: Getter r x -&gt; 'Reader.Reader' x a -&gt; 'Reader.Reader' r a
@

'magnify' works with 'Reader.Reader' \/ 'Reader.ReaderT', 'Lazy.RWS' \/ 'Lazy.RWST', and @(-&gt;)@.

Here's an example of 'magnify' being used to work with a part of a bigger config. First, the types:

@
data URL = URL {
  _protocol :: Maybe String,
  _path :: String }

data Config = Config {
  _base :: URL,
  ... }

makeLenses ''URL
makeLenses ''Config
@

Now, let's define a function which returns the base url:

@
getBase :: 'Reader.Reader' Config String
getBase = do
  protocol \&lt;- 'Data.Maybe.fromMaybe' \&quot;https\&quot; '&lt;$&gt;' 'Lens.Micro.Mtl.view' (base.protocol)
  path     \&lt;- 'Lens.Micro.Mtl.view' (base.path)
  return (protocol ++ path)
@

With 'magnify', we can factor out @base@:

@
getBase = 'magnify' base $ do
  protocol \&lt;- 'Data.Maybe.fromMaybe' \&quot;https\&quot; '&lt;$&gt;' 'Lens.Micro.Mtl.view' protocol
  path     \&lt;- 'Lens.Micro.Mtl.view' path
  return (protocol ++ path)
@

This concludes the example.

Finally, you should know writing instances of 'Magnify' for your own types can be done as follows:

@
import &quot;Lens.Micro.Mtl.Internal&quot;

type instance 'Magnified' (MyReaderT r m) = 'Magnified' (ReaderT r m)

instance Monad m =\&gt; 'Magnify' (MyReaderT r m) (MyReaderT t m) r t where
    'magnify' l (MyReaderT m) = MyReaderT ('magnify' l m)
@
  -}</span><span>
</span><span id="line-508"></span><span>  </span><span id="magnify"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-identifier hs-type">magnify</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679042963"><span class="annot"><span class="hs-identifier hs-type">LensLike'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnified"><span class="hs-identifier hs-type">Magnified</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042954"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042963"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042957"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042956"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042954"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042963"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679042955"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042963"><span class="hs-identifier hs-type">c</span></a></span></span><span>
</span><span id="line-509"></span><span>
</span><span id="line-510"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042967"><span id="local-6989586621679042968"><span id="local-6989586621679042969"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679042967"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnify"><span class="hs-identifier hs-type">Magnify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042968"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042967"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621679042969"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042967"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042968"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042969"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-511"></span><span>  </span><span id="local-6989586621679043633"><span class="annot"><span class="annottext">magnify :: forall c.
LensLike' (Magnified (ReaderT b m) c) a b
-&gt; ReaderT b m c -&gt; ReaderT a m c
</span><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-identifier hs-var hs-var hs-var hs-var">magnify</span></a></span></span><span> </span><span id="local-6989586621679043634"><span class="annot"><span class="annottext">LensLike' (Magnified (ReaderT b m) c) a b
</span><a href="#local-6989586621679043634"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span id="local-6989586621679043635"><span class="annot"><span class="annottext">b -&gt; m c
</span><a href="#local-6989586621679043635"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; m c) -&gt; ReaderT a m c
forall r (m :: * -&gt; *) a. (r -&gt; m a) -&gt; ReaderT r m a
</span><span class="hs-identifier hs-var">ReaderT</span></span><span> </span><span class="annot"><span class="annottext">((a -&gt; m c) -&gt; ReaderT a m c) -&gt; (a -&gt; m c) -&gt; ReaderT a m c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Effect m c a -&gt; m c
forall (m :: * -&gt; *) r a. Effect m r a -&gt; m r
</span><a href="Lens.Micro.Mtl.Internal.html#getEffect"><span class="hs-identifier hs-var">getEffect</span></a></span><span> </span><span class="annot"><span class="annottext">(Effect m c a -&gt; m c) -&gt; (a -&gt; Effect m c a) -&gt; a -&gt; m c
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Magnified (ReaderT b m) c) a b
</span><a href="#local-6989586621679043634"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m c -&gt; Effect m c b
forall (m :: * -&gt; *) r a. m r -&gt; Effect m r a
</span><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-var">Effect</span></a></span><span> </span><span class="annot"><span class="annottext">(m c -&gt; Effect m c b) -&gt; (b -&gt; m c) -&gt; b -&gt; Effect m c b
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; m c
</span><a href="#local-6989586621679043635"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-pragma hs-type">magnify</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042977"><span id="local-6989586621679042978"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnify"><span class="hs-identifier hs-type">Magnify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042977"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042978"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679042977"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042978"><span class="hs-identifier hs-type">a</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-515"></span><span>  </span><span id="local-6989586621679043648"><span class="annot"><span class="annottext">magnify :: forall c.
LensLike' (Magnified ((-&gt;) b) c) a b -&gt; (b -&gt; c) -&gt; a -&gt; c
</span><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-identifier hs-var hs-var hs-var hs-var">magnify</span></a></span></span><span> </span><span id="local-6989586621679043649"><span class="annot"><span class="annottext">LensLike' (Magnified ((-&gt;) b) c) a b
</span><a href="#local-6989586621679043649"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679043650"><span class="annot"><span class="annottext">b -&gt; c
</span><a href="#local-6989586621679043650"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; c) -&gt; a -&gt; c
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">Reader.asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Const c a -&gt; c
forall {k} a (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const c a -&gt; c) -&gt; (a -&gt; Const c a) -&gt; a -&gt; c
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Magnified ((-&gt;) b) c) a b
</span><a href="#local-6989586621679043649"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">c -&gt; Const c b
forall {k} a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">(c -&gt; Const c b) -&gt; (b -&gt; c) -&gt; b -&gt; Const c b
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; c
</span><a href="#local-6989586621679043650"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-516"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-pragma hs-type">magnify</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-517"></span><span>
</span><span id="line-518"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679042999"><span id="local-6989586621679043000"><span id="local-6989586621679043001"><span id="local-6989586621679043002"><span id="local-6989586621679043003"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679042999"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679043000"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnify"><span class="hs-identifier hs-type">Magnify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679043001"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043000"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043002"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042999"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679043003"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043000"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043002"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042999"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679043001"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043003"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-519"></span><span>  </span><span id="local-6989586621679043665"><span class="annot"><span class="annottext">magnify :: forall c.
LensLike' (Magnified (RWST b w s m) c) a b
-&gt; RWST b w s m c -&gt; RWST a w s m c
</span><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-identifier hs-var hs-var hs-var hs-var">magnify</span></a></span></span><span> </span><span id="local-6989586621679043666"><span class="annot"><span class="annottext">LensLike' (Magnified (RWST b w s m) c) a b
</span><a href="#local-6989586621679043666"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Strict.RWST</span></span><span> </span><span id="local-6989586621679043667"><span class="annot"><span class="annottext">b -&gt; s -&gt; m (c, s, w)
</span><a href="#local-6989586621679043667"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; s -&gt; m (c, s, w)) -&gt; RWST a w s m c
forall r w s (m :: * -&gt; *) a.
(r -&gt; s -&gt; m (a, s, w)) -&gt; RWST r w s m a
</span><span class="hs-identifier hs-var">Strict.RWST</span></span><span> </span><span class="annot"><span class="annottext">((a -&gt; s -&gt; m (c, s, w)) -&gt; RWST a w s m c)
-&gt; (a -&gt; s -&gt; m (c, s, w)) -&gt; RWST a w s m c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EffectRWS w s m c a -&gt; s -&gt; m (c, s, w)
forall w st (m :: * -&gt; *) s a.
EffectRWS w st m s a -&gt; st -&gt; m (s, st, w)
</span><a href="Lens.Micro.Mtl.Internal.html#getEffectRWS"><span class="hs-identifier hs-var">getEffectRWS</span></a></span><span> </span><span class="annot"><span class="annottext">(EffectRWS w s m c a -&gt; s -&gt; m (c, s, w))
-&gt; (a -&gt; EffectRWS w s m c a) -&gt; a -&gt; s -&gt; m (c, s, w)
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Magnified (RWST b w s m) c) a b
</span><a href="#local-6989586621679043666"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(s -&gt; m (c, s, w)) -&gt; EffectRWS w s m c b
forall w st (m :: * -&gt; *) s a.
(st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s a
</span><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-var">EffectRWS</span></a></span><span> </span><span class="annot"><span class="annottext">((s -&gt; m (c, s, w)) -&gt; EffectRWS w s m c b)
-&gt; (b -&gt; s -&gt; m (c, s, w)) -&gt; b -&gt; EffectRWS w s m c b
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; s -&gt; m (c, s, w)
</span><a href="#local-6989586621679043667"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-520"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-pragma hs-type">magnify</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679043020"><span id="local-6989586621679043021"><span id="local-6989586621679043022"><span id="local-6989586621679043023"><span id="local-6989586621679043024"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679043020"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679043021"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnify"><span class="hs-identifier hs-type">Magnify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679043022"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043021"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043023"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043020"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.RWST</span></span><span> </span><span class="annot"><a href="#local-6989586621679043024"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043021"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043023"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043020"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679043022"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043024"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-523"></span><span>  </span><span id="local-6989586621679043681"><span class="annot"><span class="annottext">magnify :: forall c.
LensLike' (Magnified (RWST b w s m) c) a b
-&gt; RWST b w s m c -&gt; RWST a w s m c
</span><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-identifier hs-var hs-var hs-var hs-var">magnify</span></a></span></span><span> </span><span id="local-6989586621679043682"><span class="annot"><span class="annottext">LensLike' (Magnified (RWST b w s m) c) a b
</span><a href="#local-6989586621679043682"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Lazy.RWST</span></span><span> </span><span id="local-6989586621679043683"><span class="annot"><span class="annottext">b -&gt; s -&gt; m (c, s, w)
</span><a href="#local-6989586621679043683"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; s -&gt; m (c, s, w)) -&gt; RWST a w s m c
forall r w s (m :: * -&gt; *) a.
(r -&gt; s -&gt; m (a, s, w)) -&gt; RWST r w s m a
</span><span class="hs-identifier hs-var">Lazy.RWST</span></span><span> </span><span class="annot"><span class="annottext">((a -&gt; s -&gt; m (c, s, w)) -&gt; RWST a w s m c)
-&gt; (a -&gt; s -&gt; m (c, s, w)) -&gt; RWST a w s m c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EffectRWS w s m c a -&gt; s -&gt; m (c, s, w)
forall w st (m :: * -&gt; *) s a.
EffectRWS w st m s a -&gt; st -&gt; m (s, st, w)
</span><a href="Lens.Micro.Mtl.Internal.html#getEffectRWS"><span class="hs-identifier hs-var">getEffectRWS</span></a></span><span> </span><span class="annot"><span class="annottext">(EffectRWS w s m c a -&gt; s -&gt; m (c, s, w))
-&gt; (a -&gt; EffectRWS w s m c a) -&gt; a -&gt; s -&gt; m (c, s, w)
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">LensLike' (Magnified (RWST b w s m) c) a b
</span><a href="#local-6989586621679043682"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(s -&gt; m (c, s, w)) -&gt; EffectRWS w s m c b
forall w st (m :: * -&gt; *) s a.
(st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s a
</span><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-var">EffectRWS</span></a></span><span> </span><span class="annot"><span class="annottext">((s -&gt; m (c, s, w)) -&gt; EffectRWS w s m c b)
-&gt; (b -&gt; s -&gt; m (c, s, w)) -&gt; b -&gt; EffectRWS w s m c b
forall c b a. Coercible c b =&gt; (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; s -&gt; m (c, s, w)
</span><a href="#local-6989586621679043683"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-524"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-pragma hs-type">magnify</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-525"></span><span>
</span><span id="line-526"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679043032"><span id="local-6989586621679043033"><span id="local-6989586621679043034"><span id="local-6989586621679043035"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnify"><span class="hs-identifier hs-type">Magnify</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043032"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043033"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043034"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043035"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Magnify"><span class="hs-identifier hs-type">Magnify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043032"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span class="annot"><a href="#local-6989586621679043033"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679043034"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043035"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-527"></span><span>  </span><span id="local-6989586621679043695"><span class="annot"><span class="annottext">magnify :: forall c.
LensLike' (Magnified (IdentityT m) c) a b
-&gt; IdentityT m c -&gt; IdentityT n c
</span><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-identifier hs-var hs-var hs-var hs-var">magnify</span></a></span></span><span> </span><span id="local-6989586621679043696"><span class="annot"><span class="annottext">LensLike' (Magnified (IdentityT m) c) a b
</span><a href="#local-6989586621679043696"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IdentityT</span></span><span> </span><span id="local-6989586621679043697"><span class="annot"><span class="annottext">m c
</span><a href="#local-6989586621679043697"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">n c -&gt; IdentityT n c
forall {k} (f :: k -&gt; *) (a :: k). f a -&gt; IdentityT f a
</span><span class="hs-identifier hs-var">IdentityT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LensLike' (Magnified m c) a b -&gt; m c -&gt; n c
forall c. LensLike' (Magnified m c) a b -&gt; m c -&gt; n c
forall (m :: * -&gt; *) (n :: * -&gt; *) b a c.
Magnify m n b a =&gt;
LensLike' (Magnified m c) a b -&gt; m c -&gt; n c
</span><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-identifier hs-var">magnify</span></a></span><span> </span><span class="annot"><span class="annottext">LensLike' (Magnified m c) a b
LensLike' (Magnified (IdentityT m) c) a b
</span><a href="#local-6989586621679043696"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">m c
</span><a href="#local-6989586621679043697"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-528"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#magnify"><span class="hs-pragma hs-type">magnify</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-531"></span><span class="hs-comment">--- Effect</span><span>
</span><span id="line-532"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-533"></span><span>
</span><span id="line-534"></span><span class="annot"><span class="hs-comment">-- | Wrap a monadic effect with a phantom type argument.</span></span><span>
</span><span id="line-535"></span><span class="hs-keyword">newtype</span><span> </span><span id="Effect"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-var">Effect</span></a></span></span><span> </span><span id="local-6989586621679042972"><span class="annot"><a href="#local-6989586621679042972"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679042973"><span class="annot"><a href="#local-6989586621679042973"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621679042974"><span class="annot"><a href="#local-6989586621679042974"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Effect"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-var">Effect</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getEffect"><span class="annot"><span class="annottext">forall (m :: * -&gt; *) r a. Effect m r a -&gt; m r
</span><a href="Lens.Micro.Mtl.Internal.html#getEffect"><span class="hs-identifier hs-var hs-var">getEffect</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679042972"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679042973"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-536"></span><span class="hs-comment">-- type role Effect representational nominal phantom</span><span>
</span><span id="line-537"></span><span>
</span><span id="line-538"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679043042"><span id="local-6989586621679043043"><span id="local-6989586621679043700"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043042"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043043"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-539"></span><span>  </span><span id="local-6989586621679043703"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; Effect m r a -&gt; Effect m r b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span id="local-6989586621679043704"><span class="annot"><span class="annottext">m r
</span><a href="#local-6989586621679043704"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m r -&gt; Effect m r b
forall (m :: * -&gt; *) r a. m r -&gt; Effect m r a
</span><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-var">Effect</span></a></span><span> </span><span class="annot"><span class="annottext">m r
</span><a href="#local-6989586621679043704"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-540"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fmap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-541"></span><span>
</span><span id="line-542"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679043052"><span id="local-6989586621679043053"><span id="local-6989586621679043054"><span id="local-6989586621679043713"><span id="local-6989586621679043717"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679043052"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679043053"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043052"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043053"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043054"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-543"></span><span>  </span><span id="local-6989586621679043721"><span class="annot"><span class="annottext">mempty :: Effect m r a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m r -&gt; Effect m r a
forall (m :: * -&gt; *) r a. m r -&gt; Effect m r a
</span><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-var">Effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; m r
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">r
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-544"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">mempty</span></span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#if !MIN_VERSION_base(4,11,0)
</span><span>  </span><span class="hs-identifier">Effect</span><span> </span><span class="hs-identifier">ma</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">mappend</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">Effect</span><span> </span><span class="hs-identifier">mb</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Effect</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">liftM2</span><span> </span><span class="hs-identifier">mappend</span><span> </span><span class="hs-identifier">ma</span><span> </span><span class="hs-identifier">mb</span><span class="hs-special">)</span><span>
</span><span id="line-547"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">mappend</span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#else
</span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679043049"><span id="local-6989586621679043050"><span id="local-6989586621679043051"><span id="local-6989586621679043726"><span id="local-6989586621679043729"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679043049"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679043050"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043049"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043050"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043051"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-550"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span id="local-6989586621679043735"><span class="annot"><span class="annottext">m r
</span><a href="#local-6989586621679043735"><span class="hs-identifier hs-var">ma</span></a></span></span><span> </span><span id="local-6989586621679043736"><span class="annot"><span class="annottext">&lt;&gt; :: Effect m r a -&gt; Effect m r a -&gt; Effect m r a
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span id="local-6989586621679043737"><span class="annot"><span class="annottext">m r
</span><a href="#local-6989586621679043737"><span class="hs-identifier hs-var">mb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m r -&gt; Effect m r a
forall (m :: * -&gt; *) r a. m r -&gt; Effect m r a
</span><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-var">Effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(r -&gt; r -&gt; r) -&gt; m r -&gt; m r -&gt; m r
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span> </span><span class="annot"><span class="annottext">m r
</span><a href="#local-6989586621679043735"><span class="hs-identifier hs-var">ma</span></a></span><span> </span><span class="annot"><span class="annottext">m r
</span><a href="#local-6989586621679043737"><span class="hs-identifier hs-var">mb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-551"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-554"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679043065"><span id="local-6989586621679043066"><span id="local-6989586621679043745"><span id="local-6989586621679043749"><span id="local-6989586621679043752"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679043065"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679043066"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043065"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043066"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-555"></span><span>  </span><span id="local-6989586621679043756"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; Effect m r a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m r -&gt; Effect m r a
forall (m :: * -&gt; *) r a. m r -&gt; Effect m r a
</span><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-var">Effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; m r
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">r
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-556"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">pure</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-557"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span id="local-6989586621679043759"><span class="annot"><span class="annottext">m r
</span><a href="#local-6989586621679043759"><span class="hs-identifier hs-var">ma</span></a></span></span><span> </span><span id="local-6989586621679043760"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. Effect m r (a -&gt; b) -&gt; Effect m r a -&gt; Effect m r b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span id="local-6989586621679043761"><span class="annot"><span class="annottext">m r
</span><a href="#local-6989586621679043761"><span class="hs-identifier hs-var">mb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m r -&gt; Effect m r b
forall (m :: * -&gt; *) r a. m r -&gt; Effect m r a
</span><a href="Lens.Micro.Mtl.Internal.html#Effect"><span class="hs-identifier hs-var">Effect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(r -&gt; r -&gt; r) -&gt; m r -&gt; m r -&gt; m r
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">m r
</span><a href="#local-6989586621679043759"><span class="hs-identifier hs-var">ma</span></a></span><span> </span><span class="annot"><span class="annottext">m r
</span><a href="#local-6989586621679043761"><span class="hs-identifier hs-var">mb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-558"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-559"></span><span>
</span><span id="line-560"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-561"></span><span class="hs-comment">-- EffectRWS</span><span>
</span><span id="line-562"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span class="annot"><span class="hs-comment">-- | Wrap a monadic effect with a phantom type argument. Used when magnifying 'Control.Monad.RWS.RWST'.</span></span><span>
</span><span id="line-565"></span><span class="hs-keyword">newtype</span><span> </span><span id="EffectRWS"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-var">EffectRWS</span></a></span></span><span> </span><span id="local-6989586621679043006"><span class="annot"><a href="#local-6989586621679043006"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span id="local-6989586621679043007"><span class="annot"><a href="#local-6989586621679043007"><span class="hs-identifier hs-type">st</span></a></span></span><span> </span><span id="local-6989586621679043008"><span class="annot"><a href="#local-6989586621679043008"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679043009"><span class="annot"><a href="#local-6989586621679043009"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679043010"><span class="annot"><a href="#local-6989586621679043010"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EffectRWS"><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-var">EffectRWS</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getEffectRWS"><span class="annot"><span class="annottext">forall w st (m :: * -&gt; *) s a.
EffectRWS w st m s a -&gt; st -&gt; m (s, st, w)
</span><a href="Lens.Micro.Mtl.Internal.html#getEffectRWS"><span class="hs-identifier hs-var hs-var">getEffectRWS</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679043007"><span class="hs-identifier hs-type">st</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679043008"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679043009"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679043007"><span class="hs-identifier hs-type">st</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679043006"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-566"></span><span>
</span><span id="line-567"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679043079"><span id="local-6989586621679043080"><span id="local-6989586621679043081"><span id="local-6989586621679043082"><span id="local-6989586621679043764"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-type">EffectRWS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043079"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043080"><span class="hs-identifier hs-type">st</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043081"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043082"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-568"></span><span>  </span><span id="local-6989586621679043767"><span class="annot"><span class="annottext">fmap :: forall a b.
(a -&gt; b) -&gt; EffectRWS w st m s a -&gt; EffectRWS w st m s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-type">EffectRWS</span></a></span><span> </span><span id="local-6989586621679043768"><span class="annot"><span class="annottext">st -&gt; m (s, st, w)
</span><a href="#local-6989586621679043768"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s b
forall w st (m :: * -&gt; *) s a.
(st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s a
</span><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-var">EffectRWS</span></a></span><span> </span><span class="annot"><span class="annottext">st -&gt; m (s, st, w)
</span><a href="#local-6989586621679043768"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-569"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">fmap</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-570"></span><span>
</span><span id="line-571"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679043089"><span id="local-6989586621679043090"><span id="local-6989586621679043091"><span id="local-6989586621679043092"><span id="local-6989586621679043777"><span id="local-6989586621679043781"><span id="local-6989586621679043784"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679043089"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679043090"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679043091"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-type">EffectRWS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043090"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043092"><span class="hs-identifier hs-type">st</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043091"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679043089"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-572"></span><span>  </span><span id="local-6989586621679043789"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; EffectRWS w st m s a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s a
forall w st (m :: * -&gt; *) s a.
(st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s a
</span><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-var">EffectRWS</span></a></span><span> </span><span class="annot"><span class="annottext">((st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s a)
-&gt; (st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679043790"><span class="annot"><span class="annottext">st
</span><a href="#local-6989586621679043790"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(s, st, w) -&gt; m (s, st, w)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">st
</span><a href="#local-6989586621679043790"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">w
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-573"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><span class="hs-pragma hs-type">pure</span></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-574"></span><span>  </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-type">EffectRWS</span></a></span><span> </span><span id="local-6989586621679043796"><span class="annot"><span class="annottext">st -&gt; m (s, st, w)
</span><a href="#local-6989586621679043796"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679043797"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b.
EffectRWS w st m s (a -&gt; b)
-&gt; EffectRWS w st m s a -&gt; EffectRWS w st m s b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="annot"><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-type">EffectRWS</span></a></span><span> </span><span id="local-6989586621679043798"><span class="annot"><span class="annottext">st -&gt; m (s, st, w)
</span><a href="#local-6989586621679043798"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s b
forall w st (m :: * -&gt; *) s a.
(st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s a
</span><a href="Lens.Micro.Mtl.Internal.html#EffectRWS"><span class="hs-identifier hs-var">EffectRWS</span></a></span><span> </span><span class="annot"><span class="annottext">((st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s b)
-&gt; (st -&gt; m (s, st, w)) -&gt; EffectRWS w st m s b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679043799"><span class="annot"><span class="annottext">st
</span><a href="#local-6989586621679043799"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">st -&gt; m (s, st, w)
</span><a href="#local-6989586621679043796"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">st
</span><a href="#local-6989586621679043799"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">m (s, st, w) -&gt; ((s, st, w) -&gt; m (s, st, w)) -&gt; m (s, st, w)
forall a b. m a -&gt; (a -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679043800"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043800"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679043801"><span class="annot"><span class="annottext">st
</span><a href="#local-6989586621679043801"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679043802"><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621679043802"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">st -&gt; m (s, st, w)
</span><a href="#local-6989586621679043798"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">st
</span><a href="#local-6989586621679043801"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">m (s, st, w) -&gt; ((s, st, w) -&gt; m (s, st, w)) -&gt; m (s, st, w)
forall a b. m a -&gt; (a -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679043803"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043803"><span class="hs-identifier hs-var">s'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679043804"><span class="annot"><span class="annottext">st
</span><a href="#local-6989586621679043804"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679043805"><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621679043805"><span class="hs-identifier hs-var">w'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(s, st, w) -&gt; m (s, st, w)
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; s -&gt; s
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043800"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679043803"><span class="hs-identifier hs-var">s'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">st
</span><a href="#local-6989586621679043804"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">w -&gt; w -&gt; w
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621679043802"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">w
</span><a href="#local-6989586621679043805"><span class="hs-identifier hs-var">w'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-575"></span><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-576"></span></pre></body></html>